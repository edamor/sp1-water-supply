{"version":3,"sources":["pages/PrivateRoute/PrivateRoute.js","utils/TokenParser.js","pages/SignIn/roles/Admin.js","contexts/UserContext.js","pages/SignIn/roles/Customer.js","images/alcantara-seal.png","pages/SignIn/SignIn.js","components/Navbar/Navbar.js","components/PopupNotif/PopupNotif.js","contexts/CustomerDataContext.js","contexts/BillContext.js","components/BillCard/BillCard.js","components/BillListing/BillListing.js","components/Loader/Loader.js","hooks/useFetch.js","pages/Bills/Bills.js","pages/BillsPage/BillsPage.js","hooks/useConsumptionAmount.js","pages/Customer/CustomerPage.js","pages/Test/TestPage.js","contexts/AccountsListContext.js","contexts/BillAccountContext.js","components/AccountDetailsModal/SelectedBill.js","components/AccountDetailsModal/BillSection.js","components/AccountDetailsModal/AccountDetailsModal.js","pages/main/Accounts/SvgIcons.js","components/DataTable/TableComponents.js","components/DataTable/DataTable.js","hooks/useTableSorting.js","hooks/useTablePagination.js","utils/AccountsApiMethods.js","pages/main/Accounts/Accounts.js","components/CreateAccountForm/AccountNumberField.js","components/CreateAccountForm/AddressField.js","components/CreateAccountForm/FullNameField.js","components/CreateAccountForm/MeterSerialNumberField.js","components/CreateAccountForm/MobileNumberField.js","components/CreateAccountForm/BarangayField.js","components/CreateAccountForm/NewOrExistingField.js","components/CreateAccountForm/LastBillDetailsFields.js","components/CreateAccountForm/SubmitCreateAccountButton.js","components/CreateAccountForm/CreateAccountValidationRules.js","components/CreateAccountForm/SuccessModal.js","pages/main/CreateAccount/CreateAccount.js","pages/main/AccountsPage/AccountsPage.js","components/AdminHome/HomeCard.js","images/register.png","images/accounts.png","images/statement.jpg","pages/main/Home/Home.js","contexts/AccountsForBillingContext.js","contexts/BillingDateContext.js","components/StatementComponents/NewBillModal/SubmitNewBillButton.js","components/StatementComponents/NewBillModal/NewBillValidationRules.js","components/StatementComponents/NewBillModal/NewBillModal.js","components/StatementComponents/PeriodSelectField.js","pages/main/IssueStatements/IssueStatements.js","hooks/useTableFilter.js","hooks/useDateStringToday.js","pages/main/Statements/Statements.js","pages/main/StatementsPage/StatementsPage.js","pages/main/Main.js","components/RoleFilter/RoleFilter.js","App.js","reportWebVitals.js","index.js"],"names":["PrivateRoute","children","rest","isAuthorized","localStorage","getItem","render","location","to","pathname","state","from","tokenParser","token","base64","split","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","Admin","history","useHistory","usernameRef","useRef","passwordRef","useState","username","setUsername","password","setPassword","loading","setLoading","doAdminLogin","user","fetch","method","headers","body","stringify","then","response","text","console","log","alert","current","value","setItem","role","push","catch","e","className","htmlFor","type","id","placeholder","ref","onChange","target","trim","disabled","aria-hidden","onClick","UserContext","createContext","UserProvider","activeUser","setActiveUser","Provider","Customer","accountNoRef","accountNo","setAccountNo","useContext","doCustomerLogin","account","SignIn","width","window","innerWidth","src","seal","alt","style","height","data-toggle","href","aria-controls","aria-selected","aria-labelledby","Navbar","props","adminNavItems","name","subMenu","customerHomeTo","customerStatementsTo","handleSignOut","signOut","r","data-target","aria-expanded","aria-label","item","subItem","activeClassName","exact","PopupNotif","classList","contains","hide","title","data-dismiss","message","confirmAction","refNumber","CustomerDataContext","CustomerDataProvider","data","setData","BillContext","BillProvider","billOnDisplay","setBillOnDisplay","BillCard","bill","Date","periodFrom","toDateString","substring","periodTo","billNumber","readingPresent","readingPrevious","cumUsed","chargePerAboveTen","totalAmountDue","goBack","BillListing","bills","viewBill","yearStep","selectedYear","setSelectedYear","sort","a","b","filter","results","setResults","useEffect","scope","length","index","colSpan","Loader","animationDelay","useFetch","endpoint","setState","controllerRef","AbortController","signal","x","abort","Bills","res","handle","TOKEN","acctNumber","accountNumber","API","billNo","viewThis","find","parseInt","BillsPage","path","useRouteMatch","useConsumptionAmount","consumption","excess","excessAmount","chargeTenBelow","chargeAboveTen","total","CustomerPage","lastBillReading","months","fullName","address","undefined","mobileNumber","meterSerialNumber","lastBillPeriodTo","getMonth","TestPage","setSelectedMonth","URI","blob","url","URL","createObjectURL","document","createElement","download","click","defaultChecked","AccountsListContext","AccountsListContextProvider","accountList","setAccountList","BillAccountContext","BillAccountProvider","billAccount","setBillAccount","SelectedBill","chargeOthers","dateStringIssued","dateStringFrom","dateStringTo","BillDetail","alignRight","fontWeight","fontSize","BillSection","Object","values","selectedBill","setSelectedBill","keys","key","AccountDetailsModal","setShowModal","handleClose","TrashCan","viewBox","fill","xmlns","d","fillRule","ChevronDown","ChevronUp","ChevronDoubleLeft","ChevronDoubleRight","ColGroup","columns","column","ColHeadings","setOrderBy","setDirection","arrow","arrowIcons","asc","desc","cursor","dir","TableBody","array","rows","emptyRows","element","row","actions","action","callback","label","empArr","Array","renderEmptyRows","Pagination","pagination","setPagination","totalPages","pageNumber","color","border","defaultValue","rowsPerPage","DataTable","orderBy","direction","sortedArray","sortArrow","useTableSorting","currentPage","indexLastItem","indexFirstItem","Math","round","useTablePagination","deleteAccountApi","DOMAIN","Accounts","showModal","viewAccount","setViewAccount","showPopup","setShowPopup","deleteThis","setDeleteThis","deleteLoading","setDeleteLoading","deletePopup","setDeletePopup","AccountNumberField","setValues","errors","test","AddressField","FullNameField","MeterSerialNumberField","MobileNumberField","BarangayField","barangayList","addressList","POB","GUI","MAD","BAG","LAW","CAM","SNI","SNR","TUG","CAL","BON","COM","barangay","NewOrExistingField","checked","existing","lastBillNumber","LastBillDetailsFields","lastBillNumberState","setLastBillNumberState","lastBillReadingState","setLastBillReadingState","s","SubmitCreateAccountButton","setErrors","onMouseDown","validate","onMouseUp","SuccessModal","CreateAccount","AccountsPage","HomeCard","cardImg","cardTitle","cardText","buttonLabel","handleClick","processedText","objectFit","Home","showLoader","setShowLoader","timeout","setTimeout","clearTimeout","homeCards","register","accounts","statement","AccountsForBillingContext","AccountsForBillingContextProvider","setAccounts","useAccountsForBillingContext","require","BillingDateContext","BillingDateContextProvider","short","useBillingDate","SubmitNewBillButton","payload","isLoading","setIsLoading","validateStatement","NewBillModal","setPayload","foundAccount","billingDate","charges","checkOtherCharge","setCheckOtherCharge","aria-describedby","Intl","NumberFormat","format","PeriodSelectField","monthIndex","IssueStatements","filteredArr","filtered","useTableFilter","days","Statements","dateStringToday","setDateStringToday","dateInstanceRef","day","getDay","month","date","getDate","year","getFullYear","useDateStringToday","StatementsPage","Main","isAdmin","setIsAdmin","showConfirmModal","setShowConfirmModal","confirmModalProps","clear","RoleFilter","App","basename","process","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.df83fa6b.chunk.js","sourcesContent":["import { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\nexport default function PrivateRoute({ children, ...rest }) {\r\n   \r\n   \r\n   let isAuthorized = localStorage.getItem(\"token\") ? true : false;\r\n\r\n\r\n   \r\n   return (\r\n      <>\r\n         <Route\r\n            {...rest}\r\n            render={({ location }) =>\r\n               (isAuthorized) ? (\r\n                  children\r\n               ) : (\r\n                     <Redirect\r\n                        to={{\r\n                           pathname: \"/login\",\r\n                           state: { from: location }\r\n                        }}\r\n                     />\r\n                  )}\r\n         />\r\n      </>\r\n   )\r\n}","\r\n\r\nexport const tokenParser = (token) => {\r\n  let base64Url = token.split(\".\")[1];\r\n  let base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n  let jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map(function (c) {\r\n            return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\r\n        })\r\n        .join(\"\")\r\n  );\r\n  return JSON.parse(jsonPayload);\r\n};","import { useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { tokenParser } from \"../../../utils/TokenParser\";\r\n\r\nconst ADMIN_LOGIN_URI=\"https://sp1-blue-sparrow.herokuapp.com/auth/admin/login\";\r\nconst LOCAL=\"http://localhost:8080/auth/admin/login\";\r\n\r\nexport const Admin = () => {\r\n\r\n  let history = useHistory();\r\n  \r\n  let usernameRef = useRef(true);\r\n  let passwordRef = useRef(true);\r\n\r\n  let [username, setUsername] = useState(\"\");\r\n  let [password, setPassword] = useState(\"\");\r\n\r\n  const handleUsername = (e) => {\r\n    setUsername(e.target.value.trim())\r\n  };\r\n\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value.trim())\r\n  };\r\n\r\n  let [loading, setLoading] = useState(false);\r\n\r\n  const doAdminLogin = () => {\r\n    setLoading(true);\r\n    let user = {\r\n      username: username,\r\n      password: password\r\n    }\r\n    fetch(ADMIN_LOGIN_URI, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n    .then(response => response.text())\r\n    .then(token => {\r\n      console.log(token);\r\n      if (token === \"Invalid Username\" || token === \"Incorrect Password\" || token === \"Login Invalid\") {\r\n        alert(token);\r\n        setLoading(false);\r\n        usernameRef.current.value = \"\";\r\n        passwordRef.current.value = \"\";\r\n      } else {\r\n        localStorage.setItem(\"token\", token);\r\n        localStorage.setItem(\"role\", tokenParser(token).role);\r\n        history.push(\"/\");\r\n      }\r\n    })\r\n    .catch(e => {\r\n      console.log(e);\r\n      alert(\"Something went wrong...\");\r\n      setLoading(false);\r\n    })\r\n  };\r\n\r\n  \r\n\r\n  const loadingButton = () => {\r\n    if (!loading) {\r\n      return (\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary w-100\"\r\n          onClick={doAdminLogin}\r\n        >\r\n          <span>Login</span>\r\n        </button>\r\n      )\r\n    } else return (\r\n      <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary w-100\"\r\n          disabled={loading}\r\n        >\r\n          <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </button>\r\n    )\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"\">\r\n      <div className=\"col-12 mb-4\">\r\n        <label \r\n          htmlFor=\"usernameInput\" \r\n          className=\"form-label\">\r\n            Username\r\n        </label>\r\n        <input \r\n          type=\"text\" \r\n          className=\"form-control\" \r\n          id=\"usernameInput\" \r\n          placeholder=\"Username\"\r\n          ref={usernameRef}\r\n          onChange={handleUsername}\r\n          disabled={loading} \r\n        />\r\n      </div>\r\n      <div className=\"col-12 mb-4\">\r\n        <label \r\n          htmlFor=\"adminPwInput\" \r\n          className=\"form-label\">\r\n            Password\r\n        </label>\r\n        <input \r\n          type=\"password\" \r\n          className=\"form-control\" \r\n          id=\"adminPwInput\" \r\n          placeholder=\"Password\"\r\n          ref={passwordRef}\r\n          onChange={handlePassword} \r\n          disabled={loading} \r\n        />\r\n      </div>\r\n      <div className=\"col-12 mb-3 pt-2\">\r\n        {loadingButton()}\r\n      </div>\r\n\r\n    </div>\r\n\r\n  )\r\n}","import { createContext, useState } from \"react\";\r\n\r\nexport const UserContext = createContext();\r\n\r\n\r\nexport const UserProvider = ({children}) => {\r\n\r\n  let [activeUser, setActiveUser] = useState(true);\r\n\r\n  return (\r\n    <UserContext.Provider value={{activeUser, setActiveUser}}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}","import { useContext, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../../../contexts/UserContext\";\r\nimport { tokenParser } from \"../../../utils/TokenParser\";\r\n\r\nconst CUSTOMER_LOGIN_URI=\"https://sp1-blue-sparrow.herokuapp.com/auth/customer/login\";\r\nconst LOCAL =\"http://localhost:8080/auth/customer/login\";\r\n\r\nconst DEV_TOKEN=\"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyMDIwLTAwLTAxIiwicm9sZSI6ImN1c3RvbWVyIiwiYWNjb3VudE5vIjoiMjAyMC0wMC0wMSIsImFjY291bnQiOnsiaWQiOjkxLCJhY2NvdW50TnVtYmVyIjoiMjAyMC0wMC0wMSIsImZ1bGxOYW1lIjoiSm9obiBDcnV6IiwibW9iaWxlTnVtYmVyIjoiKzYzOTE3NTAzNzQ1NyIsImFkZHJlc3MiOiJQb2JsYWNpb24sIEFsY2FudGFyYSwgUm9tYmxvbiIsImJhcmFuZ2F5IjoiUE9CIiwibGFzdEJpbGxOdW1iZXIiOjIsImxhc3RCaWxsUmVhZGluZyI6MTIsImxhc3RCaWxsUGVyaW9kVG8iOjE2MDY0OTI4MDAwMDAsIm1ldGVyU2VyaWFsTnVtYmVyIjoiMTFBMSAxMDAxIiwiZXhpc3RpbmciOmZhbHNlfX0.mV0ZxSER4xv7f8p561NiET3TUywhI7QdsJgqopAvq8lv62JUsJcg4UDAfrk3QafdhHLek9Kq-OBPOOnXTRnaOQ\"\r\n\r\nexport const Customer = () => {\r\n  let history = useHistory();\r\n\r\n  let accountNoRef = useRef(true);\r\n  let passwordRef = useRef(true);\r\n\r\n  let [accountNo, setAccountNo] = useState(\"\");\r\n  let [password, setPassword] = useState(\"\");\r\n\r\n\r\n  const handleAccountNo = (e) => {\r\n    setAccountNo(e.target.value.trim())\r\n  };\r\n\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value.trim())\r\n  };\r\n\r\n  const { setActiveUser } = useContext(UserContext);\r\n\r\n  let [loading, setLoading] = useState(false);\r\n\r\n  const doCustomerLogin = () => {\r\n    setLoading(true);\r\n    let user = {\r\n      username: accountNo,\r\n      password: password\r\n    }\r\n    fetch(CUSTOMER_LOGIN_URI, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n    .then(response => response.text())\r\n    .then(token => {\r\n      console.log(token);\r\n      if (token === \"Invalid Username\" || token === \"Incorrect Password\" || token === \"Login Invalid\") {\r\n        alert(token);\r\n        setLoading(false);\r\n        accountNoRef.current.value = \"\";\r\n        passwordRef.current.value = \"\";\r\n      } else {\r\n        localStorage.setItem(\"token\", token);\r\n        localStorage.setItem(\"role\", tokenParser(token).role);\r\n        setActiveUser(tokenParser(token).account);\r\n        history.push(\"/\");\r\n        \r\n      }\r\n    })\r\n    .catch(e => {\r\n      console.log(e);\r\n      alert(\"Something went wrong...\");\r\n      setLoading(false);\r\n    })\r\n  };\r\n\r\n\r\n  const developmentMode = () => {\r\n    localStorage.setItem(\"token\", DEV_TOKEN);\r\n    localStorage.setItem(\"role\", tokenParser(DEV_TOKEN).role);\r\n    setActiveUser(tokenParser(DEV_TOKEN).account);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const loadingButton = () => {\r\n    if (!loading) {\r\n      return (\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary w-100\"\r\n          onClick={doCustomerLogin}\r\n        // onClick={developmentMode}\r\n        >\r\n          <span>Login</span>\r\n        </button>\r\n      )\r\n    } else return (\r\n      <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary w-100\"\r\n          disabled={loading}\r\n        >\r\n          <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </button>\r\n    )\r\n  };\r\n\r\n  \r\n\r\n\r\n  \r\n\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <div className=\"col-12 mb-4\">\r\n        <label \r\n          htmlFor=\"accountNumberInput\" \r\n          className=\"form-label\">\r\n            Account No.\r\n        </label>\r\n        <input \r\n          type=\"text\" \r\n          className=\"form-control\" \r\n          id=\"accountNumberInput\" \r\n          placeholder=\"Account No.\"\r\n          ref={accountNoRef}\r\n          onChange={handleAccountNo} \r\n        />\r\n      </div>\r\n      <div className=\"col-12 mb-4\">\r\n        <label \r\n          htmlFor=\"customerPwInput\" \r\n          className=\"form-label\">\r\n            Password\r\n        </label>\r\n        <input \r\n          type=\"password\" \r\n          className=\"form-control\" \r\n          id=\"customerPwInput\" \r\n          placeholder=\"Password\"\r\n          ref={passwordRef}\r\n          onChange={handlePassword} \r\n        />\r\n      </div>\r\n      <div className=\"col-12 mb-3 pt-2\">\r\n        {loadingButton()}\r\n      </div>\r\n\r\n    </div>\r\n\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/alcantara-seal.a1037ced.png\";","import \"./style.css\";\r\nimport { Admin } from \"./roles/Admin\";\r\nimport { Customer } from \"./roles/Customer\";\r\nimport seal from \"../../images/alcantara-seal.png\";\r\n\r\n\r\nexport const SignIn = () => {\r\n\r\n  const width = window.innerWidth;\r\n  \r\n\r\n  return (\r\n    <>\r\n      <div className=\"container sign-in-wrapper \">\r\n        <div className=\"row h-100 d-flex align-items-center justify-content-center\">\r\n\r\n          <div className=\"col-12 col-md-6 \">\r\n            <div className=\"text-center\">\r\n              <img \r\n                src={seal} \r\n                alt=\"Alcantara, Romblon - Municipal Seal\" \r\n                className=\"img-thumbnail border-0\"\r\n                style={{\r\n                  height: `${(width < 576) ? \"7rem\" : \"12rem\"}`,\r\n                  width: `${(width < 576) ? \"7rem\" : \"12rem\"}`\r\n                }}\r\n              />\r\n            </div>\r\n            <p className=\"display-6 text-center\">\r\n              Municipality of Alcantara\r\n            </p>\r\n            <p className=\"h3 text-center\">\r\n              Water Supply System\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"col-12 col-md-6\">\r\n            <p className=\"mr-auto h4\">\r\n              Login As:\r\n            </p>\r\n            <ul className=\"nav nav-tabs pt-1\" id=\"myTab\" role=\"tablist\">\r\n              <li className=\"nav-item\" role=\"presentation\">\r\n                <a className=\"nav-link active\" \r\n                  id=\"home-tab\" \r\n                  data-toggle=\"tab\" \r\n                  href=\"#admin\" \r\n                  role=\"tab\" \r\n                  aria-controls=\"admin\" \r\n                  aria-selected=\"true\"\r\n                >\r\n                  Admin\r\n                </a>\r\n              </li>\r\n              <li className=\"nav-item\" role=\"presentation\">\r\n                <a className=\"nav-link\" \r\n                  id=\"customer-tab\" \r\n                  data-toggle=\"tab\" \r\n                  href=\"#customer\" \r\n                  role=\"tab\" \r\n                  aria-controls=\"customer\" \r\n                  aria-selected=\"false\"\r\n                >\r\n                  Customer\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <div \r\n              className=\"tab-content col-12 flex-column p-3 border border-1\" \r\n              id=\"myTabContent\"\r\n            >\r\n              <div className=\"tab-pane fade show active\" \r\n                id=\"admin\" \r\n                role=\"tabpanel\" \r\n                aria-labelledby=\"admin-tab\"\r\n              >\r\n                <Admin />\r\n              </div>\r\n              <div className=\"tab-pane fade\" \r\n                id=\"customer\" \r\n                role=\"tabpanel\" \r\n                aria-labelledby=\"customer-tab\"\r\n              >\r\n                <Customer />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n        </div>\r\n          \r\n        \r\n        \r\n       \r\n\r\n      </div>\r\n    </>\r\n  )\r\n}","import { NavLink, useHistory } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nexport const Navbar = (props) => {\r\n\r\n  const history = useHistory();\r\n\r\n  let role = localStorage.getItem(\"role\");\r\n\r\n  const adminNavItems = [\r\n    {\r\n      name: \"Home\", \r\n      to: {\r\n        pathname: \"/admin\",\r\n        state: { from: history.location}\r\n      }\r\n    },\r\n    {\r\n      name: \"Accounts\",\r\n      subMenu: [\r\n        {\r\n          name: \"View Accounts\",\r\n          to: {\r\n            pathname: \"/admin/accounts\",\r\n            state: { from: history.location}\r\n          } \r\n        },\r\n        {\r\n          name: \"Register Account\",\r\n          to: {\r\n            pathname: \"/admin/accounts/new\",\r\n            state: { from: history.location}\r\n          } \r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: \"Statements\",\r\n      to: {\r\n        pathname: \"/admin/statements\",\r\n        state: { from: history.location} \r\n      }\r\n    }\r\n  ]\r\n\r\n  \r\n  let customerHomeTo = {\r\n    pathname: \"/customer\",\r\n    state: { from: history.location} \r\n  };\r\n  let customerStatementsTo = {\r\n    pathname: \"/customer/bills\",\r\n    state: { from: history.location} \r\n  };\r\n\r\n\r\n  function handleSignOut() {\r\n    props.signOut(true);\r\n  }\r\n\r\n\r\n  const showNav = (r) => (\r\n    (r === \"admin\") ?\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n        <div className=\"navbar-nav d-flex w-75\">\r\n          {adminNavItems.map(item => {\r\n            if (item.name === \"Accounts\") {\r\n              return (\r\n                <div className=\"nav-item dropdown\" key={item.name}>\r\n                  <button type=\"button\" className=\"btn btn-link nav-link dropdown-toggle \" data-toggle=\"dropdown\" aria-expanded=\"false\" >\r\n                    {item.name}\r\n                  </button>\r\n                    <div className=\"dropdown-menu\">\r\n                      {item.subMenu.map(subItem => (\r\n                        <NavLink\r\n                          key={subItem.name} \r\n                          className=\"nav-link dropdown-item \"\r\n                          activeClassName=\"active\"\r\n                          exact\r\n                          to={subItem.to}\r\n                        >\r\n                          \r\n                            {subItem.name}\r\n                        </NavLink>\r\n                      ))}\r\n                    </div>\r\n                </div>\r\n              )\r\n            } else {\r\n              return (\r\n                <NavLink\r\n                  key={item.name} \r\n                  className=\"nav-link \"\r\n                  activeClassName=\"active\"\r\n                  exact\r\n                  to={item.to}\r\n                >\r\n                  {item.name}\r\n                </NavLink>                \r\n              )\r\n            }\r\n          })}\r\n          <NavLink\r\n            className=\"nav-link \"\r\n            activeClassName=\"active\"\r\n            exact\r\n            to={{\r\n              pathname: \"/admin/reports\",\r\n              state: { from: history.location} \r\n            }}\r\n          >\r\n            Reports\r\n          </NavLink>    \r\n        </div>\r\n        <div className=\"d-flex w-100 w-md-75 justify-content-md-end justify-content-center\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-link sign-out-btn\"\r\n            onClick={handleSignOut}\r\n          >\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n      </div>\r\n      :\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n        <div className=\"navbar-nav d-flex w-25 justify-content-around\">\r\n          <NavLink \r\n            className=\"nav-link \"\r\n            activeClassName=\"active\"\r\n            exact\r\n            to={customerHomeTo}\r\n          >\r\n            Account\r\n          </NavLink>\r\n          <NavLink \r\n            className=\"nav-link \"\r\n            activeClassName=\"active\"\r\n            to={customerStatementsTo}\r\n          >\r\n            Bills\r\n          </NavLink>\r\n        </div>\r\n        <div className=\"d-flex w-100 w-md-75 justify-content-md-end justify-content-center\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-link sign-out-btn\"\r\n            onClick={handleSignOut}\r\n          >\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n      </div>\r\n  )\r\n\r\n  \r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light fixed-top bg-light\">\r\n      <div className=\"container-fluid\">\r\n        <div>\r\n          <span className=\"mr-1 navbar-brand\">Water</span>\r\n          <span className=\"mr-1 navbar-brand\">Supply</span>\r\n          <span className=\"mr-1 navbar-brand\">System</span>\r\n        </div>\r\n        <button \r\n          className=\"navbar-toggler\" \r\n          type=\"button\" \r\n          data-toggle=\"collapse\" \r\n          data-target=\"#navbarNavAltMarkup\" \r\n          aria-controls=\"navbarNavAltMarkup\" \r\n          aria-expanded=\"false\" \r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        \r\n        {showNav(role)}\r\n\r\n      </div>\r\n    </nav>    \r\n  )\r\n}","import \"./style.css\";\r\n\r\n\r\nexport const PopupNotif = (props) => {\r\n\r\n  function handleClickOutside(e) {\r\n    if (e.target.classList.contains(\"popup-notif-modal\")) {\r\n      props.hide();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"popup-notif-modal\" onClick={handleClickOutside}>\r\n      <div className=\"modal-dialog modal-sm modal-dialog-centered modal-fullscreen-md-down\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <p className=\"modal-title font-l\"> {props.title} </p>\r\n            <button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"\r\n            onClick={props.hide}></button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            {props.loading && \r\n              <div className=\"d-flex justify-content-center\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            }\r\n            {!props.loading && <p> {props.message} </p>}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" onClick={props.hide} disabled={props.loading}>\r\n              {`${(props.title !== \"Success\" && props.title !== \"Failed\") ? \"Cancel\" : \"Close\"}`}\r\n            </button>\r\n            {(props.title !== \"Success\" && props.title !== \"Failed\") && \r\n              <button \r\n                type=\"button\" \r\n                className=\"btn btn-success\" \r\n                onClick={() => {\r\n                  props.confirmAction(props.refNumber)\r\n                }} \r\n                disabled={props.loading}\r\n              >\r\n                Confirm\r\n              </button>\r\n            }\r\n          </div>\r\n        </div>        \r\n      </div>    \r\n    </div>\r\n  )\r\n}","import { createContext, useState } from \"react\";\r\n\r\n\r\nexport const CustomerDataContext = createContext();\r\n\r\n\r\nexport const CustomerDataProvider = ({children}) => {\r\n\r\n  let [data, setData] = useState()\r\n\r\n\r\n  return (\r\n    <CustomerDataContext.Provider value={{data, setData}} >\r\n      {children}\r\n    </CustomerDataContext.Provider>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n  // let data =  [\r\n  //   {\r\n  //     accountNo: \"2015-06-047\",\r\n  //     billNo: 1,\r\n  //     period: {\r\n  //       from: 1598547600000,\r\n  //       to: 1601226000000,\r\n  //       year: 2020\r\n  //     },\r\n  //     reading: {\r\n  //       present: 863,\r\n  //       previous: 844\r\n  //     },\r\n  //     consumption: {\r\n  //       cuMeter: 19,\r\n  //       rates: {\r\n  //         currency: \"PHP\",\r\n  //         zeroToTenCuM: 50,\r\n  //         aboveTenPerCuM: 11\r\n  //       },\r\n  //       amount: {\r\n  //         currency: \"PHP\",\r\n  //         zeroToTenCuM: 50,\r\n  //         aboveTenPerCuM: 99\r\n  //       }\r\n  //     }\r\n  //   }\r\n  // ];\r\n// {state, setState}","import { createContext, useContext, useState } from \"react\";\r\nimport { CustomerDataContext } from \"./CustomerDataContext\";\r\n\r\n\r\nexport const BillContext = createContext();\r\n\r\nexport const BillProvider = ({children}) => {\r\n\r\n  let data = useContext(CustomerDataContext);\r\n\r\n  let [billOnDisplay, setBillOnDisplay] = useState(data[0])\r\n\r\n  return (\r\n    <BillContext.Provider value={{billOnDisplay, setBillOnDisplay}} >\r\n      {children}\r\n    </BillContext.Provider>\r\n  )\r\n}","import { useHistory } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nexport const BillCard = ({bill}) => {\r\n\r\n  \r\n  let from = new Date(bill.periodFrom).toDateString().substring(4,10);\r\n  let to = new Date(bill.periodTo).toDateString().substring(4,10);\r\n\r\n  let history = useHistory();\r\n\r\n\r\n \r\n\r\n  return (\r\n    <div className=\"container bill-card-wrapper\">\r\n      <div className=\"row pt-3\">\r\n        <div className=\"col-12 col-md-10 mx-auto\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">\r\n              <div className=\"row py-2\">\r\n                <div className=\"col-12 col-md-2\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"h5\">Bill No.</p>\r\n                    <p className=\"h5 font-weight-normal\"> {`${bill.billNumber}`} </p>\r\n                  </div>                  \r\n                </div>\r\n                <div className=\"col-12 col-md-5 ml-auto\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"h5\">Period Covered:</p>\r\n                    <p className=\"h5 font-weight-light\"> \r\n                      {`${from} - ${to}`}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"row g-2\">\r\n                <div className=\"col-6 p-2 m-auto\">\r\n                  <p className=\"h5 text-center\">Meter Reading</p>\r\n                  <div className=\"d-flex justify-content-between my-0 py-0\">\r\n                    <p className=\"font-weight-bold my-0 py-0\">Present: </p>\r\n                    <p className=\"my-0 py-0\"> {bill.readingPresent} </p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"font-weight-bold my-0 py-0\">Previous: </p>\r\n                    <p className=\"my-0 py-0\"> {bill.readingPrevious} </p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"font-weight-bold my-0 py-0\">Used in Cu. Meters: </p>\r\n                    <p className=\"my-0 py-0\"> {bill.cumUsed} </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <div className=\"row g-2\">\r\n                <p className=\"h5 text-center\">Consumption</p>\r\n                <div className=\"col-8 m-auto\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"font-weight-bold\">Charges</p>\r\n                    <p className=\"font-weight-bold\">Rates</p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"h6\">0 - 10 CU.M: </p>\r\n                    <p className=\"\">PHP 50.00</p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"h6\">Above 10 CU.M: </p>\r\n                    <p className=\"\">PHP 11.00 / CU.M</p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-start\">\r\n                    <p className=\"h6\">Others: </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-4 m-auto\">\r\n                  <p className=\"font-weight-bold text-right\">Amount</p>\r\n                  <div className=\"d-flex justify-content-end\">\r\n                    <p className=\"\">50.00</p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-end\">\r\n                    <p className=\"\">\r\n                      {`${ bill.chargePerAboveTen}.00`}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-end\">\r\n                    <p className=\"\">\r\n                      0.00\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr className=\"my-1\" />\r\n              <div className=\"row g-1\">\r\n                <div className=\"col-6 ml-auto d-flex justify-content-between\">\r\n                  <p className=\"h5\">Total Amount</p>\r\n                  <p className=\"h5\">\r\n                    {`PHP ${bill.totalAmountDue}.00`}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-footer\">\r\n              <div className=\"d-flex w-100 justify-content-end\">\r\n                <button\r\n                  className=\"btn btn-outline-primary btn-lg px-4\"\r\n                  type=\"button\"\r\n                  onClick={() => {history.goBack()}}\r\n                >\r\n                  Go Back\r\n                </button>\r\n\r\n              </div>\r\n            </div>\r\n          </div>    \r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\n\r\n\r\nexport const BillListing = ({bills, viewBill}) => {\r\n  \r\n  let yearStep = 31556952000;\r\n  const years = [ \r\n    {name: \"2021\", value: 1609364952000},\r\n    {name: \"2020\", value: 1577808000000},\r\n    {name: \"2019\", value: 1546272000000}\r\n  ]\r\n\r\n\r\n\r\n  let [selectedYear, setSelectedYear] = useState(1609364952000)\r\n  let [results, setResults] = useState(bills\r\n    .sort((a,b) => b.billNumber - a.billNumber)\r\n    .filter(item => ((item.periodTo - selectedYear) < yearStep)))\r\n  \r\n\r\n\r\n  useEffect(() => {\r\n    setResults(bills\r\n    .sort((a,b) => b.billNumber - a.billNumber)\r\n    .filter(item => ((item.periodTo - selectedYear) < yearStep)))\r\n  }, [bills, selectedYear, yearStep])\r\n  \r\n\r\n  return (\r\n    <table className=\"table table-hover table-striped text-center\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Bill No.</th>\r\n          <th scope=\"col\">Period Covered</th>\r\n          <th scope=\"col\">Consumption</th>\r\n          <th scope=\"col\">Amount</th>\r\n          <th scope=\"col\">\r\n            \r\n            \r\n            <select \r\n              className=\"form-select\" \r\n              aria-label=\".form-select-lg example\"\r\n              onChange={(e) => {\r\n                setSelectedYear(e.target.value)\r\n              }}\r\n            >\r\n              {years.map(item => <option key={item.name} value={item.value}>{item.name}</option>)}\r\n            </select>     \r\n\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {\r\n          (results.length !== 0) ? results.map((item, index) => (\r\n            <tr key={index}>\r\n              <th scope=\"row\">\r\n                {item.billNumber}\r\n              </th>\r\n              <td>\r\n                {\r\n                  `${new Date(item.periodFrom).toDateString().substring(4,7)}. ${new Date(item.periodFrom).toDateString().substring(8,10)} - \r\n                  ${new Date(item.periodTo).toDateString().substring(4,7)}. ${new Date(item.periodTo).toDateString().substring(8,10)}`\r\n                }\r\n              </td>\r\n              <td>\r\n                {`${item.cumUsed} Cu. Meters` }\r\n              </td>\r\n              <td>\r\n                {`PHP ${item.totalAmountDue}.00` }\r\n              </td>\r\n              <td className=\"d-flex justify-content-around\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-sm btn-primary\"\r\n                  onClick={(e) => {viewBill(e.target.value)}}\r\n                  value={item.billNumber}\r\n                >\r\n                  View Details\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))\r\n          :\r\n          (\r\n            <tr>\r\n              <td colSpan={5} className=\"py-4\">\r\n                <em>\r\n                  No Available Records for {new Date(selectedYear).toDateString()}\r\n                </em>\r\n              </td>\r\n            </tr>\r\n          )\r\n        }\r\n      </tbody>\r\n    </table>      \r\n  )\r\n}\r\n     ","\r\n\r\n\r\nexport default function Loader() {\r\n\r\n  \r\n\r\n  return (\r\n      <div className=\"d-flex w-100 align-items-center justify-content-center\" style={{\"height\": \"50vh\"}}>\r\n        <div className=\"spinner-grow mx-2\" style={{\r\n          width: \"2.2rem\",\r\n          height : \"2.2rem\",\r\n          animationDelay: \"0.08s\"\r\n          }} role=\"status\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n        <div className=\"spinner-grow mx-3\" style={{\r\n          width: \"3rem\",\r\n          height : \"3rem\",\r\n          animationDelay: \"0.16s\"\r\n          }} role=\"status\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n        <div className=\"spinner-grow mx-2\" style={{\r\n          width: \"2.2rem\",\r\n          height : \"2.2rem\",\r\n          animationDelay: \"0.24s\"\r\n          }} role=\"status\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n      </div>\r\n  ) \r\n  \r\n}","import { useEffect, useRef, useState } from \"react\"\r\n\r\nconst DOMAIN = \"https://sp1-blue-sparrow.herokuapp.com/api/v1\";\r\nconst LOCAL = \"http://localhost:8080/api/v1\";\r\n\r\n\r\nexport const useFetch = ({endpoint, token}) => {\r\n  const [state, setState] = useState({data: null, loading: true});\r\n\r\n  const controllerRef = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    controllerRef.current = new AbortController();\r\n  })\r\n\r\n  useEffect(() => {\r\n    const { signal } = controllerRef.current;\r\n    setState({data: null, loading: true});\r\n    fetch(DOMAIN + endpoint, {\r\n      method: \"GET\",\r\n      headers: { \"x-auth-token\": token },\r\n      signal\r\n    })\r\n    .then(response => response.text())\r\n    .then(x => {\r\n      setState({data: JSON.parse(x), loading: false});\r\n    })\r\n    .catch(e => {\r\n      alert(e)\r\n    })\r\n    // fetch(DOMAIN + endpoint, {\r\n    //   method: \"GET\",\r\n    //   headers: { \"x-auth-token\": token },\r\n    //   signal\r\n    // })\r\n    // .then(response => response.text())\r\n    // .then(x => {\r\n    //   setState({data: JSON.parse(x), loading: false});\r\n    // })\r\n    // .catch(e => {\r\n    //   alert(e)\r\n    // })\r\n\r\n    return () => controllerRef.current.abort();\r\n  }, [endpoint, token]);\r\n\r\n\r\n  return state;\r\n}","import { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { BillListing } from \"../../components/BillListing/BillListing\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport { BillContext } from \"../../contexts/BillContext\";\r\nimport { useFetch } from \"../../hooks/useFetch\";\r\nimport { tokenParser } from \"../../utils/TokenParser\";\r\n\r\n  \r\n\r\n\r\n\r\nexport const Bills = () => {\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n  const acctNumber = tokenParser(TOKEN).account.accountNumber;\r\n  const API = `/bill-management/bills/${acctNumber}`;\r\n  \r\n\r\n  const { data } = useFetch({\r\n    endpoint: API,\r\n    token: TOKEN \r\n  });\r\n\r\n  let history = useHistory();\r\n\r\n  let {setBillOnDisplay} = useContext(BillContext);\r\n\r\n\r\n  const handleViewBill = (billNo) => {\r\n    let viewThis = data.find(item => item.billNumber === parseInt(billNo));\r\n    setBillOnDisplay(viewThis);\r\n    history.push({\r\n      pathname: `/customer/bills/${billNo}`,\r\n      state: { from: history.location }\r\n    })\r\n  };\r\n  \r\n  const showLoadingScreen = (res, handle) => {\r\n    if (!res) {\r\n      return (\r\n        <Loader />\r\n      )\r\n    } else {\r\n      return (\r\n        <BillListing \r\n          bills={res}  \r\n          viewBill={handle} \r\n        />\r\n      ) \r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"container pt-2\">\r\n      <p className=\"display-5 text-center py-3\">\r\n          My Bills\r\n      </p>\r\n      <div className=\"row pt-2\">\r\n        <div className=\"col-12 col-md-10 m-auto\">\r\n          {showLoadingScreen(data,handleViewBill)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n      \r\n      // <div className=\"row\">\r\n      //   <div className=\"col-12 col-md-10 m-auto pt-2\">\r\n      //     <BillCard bill={onDisplay} />\r\n      //   </div>\r\n      // </div>      ","import { useContext } from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\"\r\nimport { BillCard } from \"../../components/BillCard/BillCard\";\r\nimport { BillContext } from \"../../contexts/BillContext\";\r\nimport { Bills } from \"../Bills/Bills\";\r\n\r\n\r\n\r\nexport const BillsPage = () => {\r\n\r\n  let {path} = useRouteMatch();\r\n\r\n  \r\n  let {billOnDisplay} = useContext(BillContext);\r\n\r\n\r\n  return (\r\n    <Switch>\r\n      <Route exact path={path}>\r\n        <Bills />\r\n      </Route>\r\n      <Route path={`${path}/:billNo`}>\r\n        <BillCard bill={billOnDisplay} />\r\n      </Route>\r\n    </Switch>\r\n    \r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\n\r\n\r\nexport const useConsumptionAmount = ({consumption}) => {\r\n  const [state, setState] = useState({});\r\n  \r\n  useEffect(() => {\r\n    let excess = consumption - 10;\r\n    let excessAmount = (excess > 0) ? (excess * 11) : 0;\r\n    setState({\r\n      chargeTenBelow: 50,\r\n      chargeAboveTen: excessAmount,\r\n      total: 50 + excessAmount\r\n    });\r\n  }, [consumption])\r\n\r\n  return state;\r\n}","import { useHistory } from \"react-router-dom\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport { useConsumptionAmount } from \"../../hooks/useConsumptionAmount\";\r\nimport { useFetch } from \"../../hooks/useFetch\";\r\nimport { tokenParser } from \"../../utils/TokenParser\";\r\nimport \"./style.css\";\r\n\r\n\r\nexport const CustomerPage = () => {\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n  const acctNumber = tokenParser(TOKEN).account.accountNumber;\r\n  const API = `/account-management/accounts/${acctNumber}/account`;\r\n  const history = useHistory();\r\n  \r\n  const { data } = useFetch({\r\n    endpoint: API,\r\n    token: TOKEN \r\n  });\r\n\r\n\r\n  const {total} = useConsumptionAmount({consumption: data?.lastBillReading});\r\n\r\n  const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n  \r\n  const showLoadingScreen = (res) => {\r\n    if (!res) {\r\n      return (\r\n        <Loader />\r\n      )\r\n    } else return (\r\n      <dl className=\"row pt-4\">\r\n        <dt className=\"col-sm-3 h5\">Name</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {data.fullName}\r\n        </dd>\r\n        <dt className=\"col-sm-3 h5\">Address</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {data.address ? data.address : \"No Address\"}\r\n        </dd>\r\n        <dt className=\"col-sm-3 h5\">Mobile No.</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {data.mobileNumber === undefined ? \"No Mobile Number\" : \r\n          `${data.mobileNumber.substring(0,3)} ${data.mobileNumber.substring(3,6)}-${data.mobileNumber.substring(6,9)}-${data.mobileNumber.substring(9)}`}   \r\n        </dd>\r\n        <dt className=\"col-sm-3 h5\">Meter Serial No.</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {data.meterSerialNumber ? data.meterSerialNumber : \"NO METER SERIAL NO.\"}\r\n        </dd>\r\n        <hr className=\"my-4\" />\r\n        <dt className=\"col-12 pb-2 h5\">Most Recent Bill Details</dt>\r\n        <dt className=\"col-sm-3\">Month Covered</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {\r\n            data.lastBillPeriodTo === 0 ? \"-\" \r\n            : `${months[new Date(data.lastBillPeriodTo).getMonth()-1]}-${months[new Date(data.lastBillPeriodTo).getMonth()]}`\r\n          }\r\n        </dd>\r\n        <dt className=\"col-sm-3\">Meter Reading</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {data.lastBillReading === 0 ? \"-\" : `${data.lastBillReading} Cu. Meters`}\r\n        </dd>\r\n        <dt className=\"col-sm-3\">Amount Due</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {`Php ${total}.00`}\r\n        </dd>\r\n        <div>\r\n        <button\r\n          className=\"btn btn-success btn-lg w-md-25 w-50 mt-3\"\r\n          type=\"button\"\r\n          onClick={() => {\r\n            history.push({\r\n              pathname: \"/customer/bills\",\r\n              state: {from: history.location}\r\n            })\r\n          }}\r\n        >\r\n          View Bills\r\n        </button>\r\n      </div>\r\n      </dl>\r\n    )\r\n  }\r\n\r\n\r\n  \r\n\r\n\r\n  return (\r\n    <div className=\"container customer-page-wrapper\">\r\n      <div className=\"row pt-3\">\r\n        <div className=\"col-12 col-md-8\">\r\n          <p className=\"display-5\">\r\n            My Account\r\n          </p>\r\n        </div>\r\n        <div className=\"col-12 col-md-4 d-flex align-items-center justify-content-md-end\">\r\n          <p className=\"h5\">\r\n            Account No.: <span className=\"font-weight-lighter\">{acctNumber}</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {showLoadingScreen(data)}\r\n\r\n\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n// Account No.:\r\n// Meter Serial No.:\r\n\r\n// Name:\r\n// Address:\r\n// Mobile No.: ","import { useState } from \"react\";\r\n\r\n\r\n\r\n\r\nexport const TestPage = () => {\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n  const [selectedMonth, setSelectedMonth] = useState(0);\r\n  \r\n  \r\n  function downloadAccounts() {\r\n\r\n    const URI = \"https://sp1-blue-sparrow.herokuapp.com\"\r\n    const endpoint = \"/api/v1/reports-management/export/accounts/all\"\r\n\r\n    fetch(URI + endpoint, {\r\n      method: \"GET\",\r\n      headers: { \"x-auth-token\": TOKEN }\r\n    })\r\n    .then(response => {\r\n\t\t\t\tresponse.blob().then(blob => {\r\n\t\t\t\t\tlet url = window.URL.createObjectURL(blob);\r\n\t\t\t\t\tlet a = document.createElement('a');\r\n\t\t\t\t\ta.href = url;\r\n\t\t\t\t\ta.download = 'accounts.xlsx';\r\n\t\t\t\t\ta.click();\r\n\t\t\t\t});\r\n\t\t})\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"container h-100\">\r\n      <p className=\"display-5 text-center py-3\">\r\n        Reports\r\n      </p>\r\n      <div>\r\n        <ul>\r\n          <li>\r\n            Download All Accounts to Excel\r\n            <button\r\n              className=\"btn btn-primary mx-3\"\r\n              onClick={downloadAccounts}\r\n            >\r\n              Download\r\n            </button>\r\n          </li>\r\n          <li>\r\n            Download Statement of Accounts. Select a month to download.\r\n            <select\r\n              className=\"form-select\"\r\n              defaultChecked={true}\r\n              onChange={e => {\r\n                setSelectedMonth(e.target.value)\r\n              }}\r\n            >\r\n              <option value={0} >January</option>\r\n              <option value={1} >February</option>\r\n              <option value={2} >March</option>\r\n              <option value={3} >April</option>\r\n              <option value={4} >May</option>\r\n              <option value={5} >June</option>\r\n              <option value={6} >July</option>\r\n              <option value={7} >August</option>\r\n              <option value={8} >September</option>\r\n              <option value={9} >October</option>\r\n              <option value={10} >November</option>\r\n              <option value={11} >December</option>\r\n            </select>\r\n            <button>\r\n              Download\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      </div>\r\n  )\r\n}","import { createContext, useContext, useState } from \"react\";\r\n\r\n\r\nexport const AccountsListContext = createContext(null);\r\n\r\nexport const AccountsListContextProvider = ({children}) => {\r\n\r\n  const [accountList, setAccountList] = useState([]);\r\n\r\n\r\n  return (\r\n    <AccountsListContext.Provider value={{ accountList, setAccountList }}>\r\n      {children}\r\n    </AccountsListContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useAccountsListContext = () => {\r\n  return useContext(AccountsListContext);\r\n}\r\n\r\n","import { createContext, useContext, useState } from \"react\";\r\n\r\n\r\nexport const BillAccountContext = createContext();\r\n\r\nexport const BillAccountProvider = ({children}) => {\r\n  const [billAccount, setBillAccount] = useState({});\r\n\r\n  return (\r\n    <BillAccountContext.Provider value={{billAccount, setBillAccount}}>\r\n      {children}\r\n    </BillAccountContext.Provider>\r\n  )\r\n}\r\n\r\n\r\nexport const useBillAccountContext = () => {\r\n  return useContext(BillAccountContext);\r\n}","\r\n\r\n\r\nexport const SelectedBill = (props) => {\r\n  const { \r\n    chargeOthers,\r\n    chargePerAboveTen,\r\n    cumUsed,\r\n    dateStringIssued,\r\n    dateStringFrom,\r\n    dateStringTo,\r\n    readingPresent,\r\n    readingPrevious,\r\n    totalAmountDue\r\n  } = props;\r\n\r\n  const BillDetail = ({alignRight, name, value}) => (\r\n    <div className={`col-md-5 d-flex w-100 mb-1 justify-content-between ${alignRight && \"ml-auto\"}`}>\r\n      <span style={{ fontWeight: \"500\"}}>\r\n        {`${ name || \"-\" }:`}\r\n      </span>\r\n        { value || \"-\" }\r\n    </div>\r\n  ) \r\n\r\n\r\n  return (\r\n    <div className=\"row g-3 py-2\">\r\n      \r\n      <div className=\"col-md-5 d-flex flex-column\">\r\n        <BillDetail \r\n          name=\"Present Reading\"\r\n          value={readingPresent}\r\n        />\r\n        <BillDetail \r\n          name=\"Previous Reading\"\r\n          value={readingPrevious}\r\n        />\r\n        <BillDetail \r\n          name={\"Used\"}\r\n          // value={cumUsed + \"\\u33a5\"}\r\n          value={cumUsed}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"col-md-5 d-flex flex-column ml-auto\">\r\n        <BillDetail \r\n          name=\"Date Issued\"\r\n          value={dateStringIssued}\r\n          alignRight={true}\r\n        />\r\n        <BillDetail \r\n          name=\"From\"\r\n          value={dateStringFrom}\r\n          alignRight={true}\r\n        />\r\n        <BillDetail \r\n          name=\"To\"\r\n          value={dateStringTo}\r\n          alignRight={true}\r\n        />\r\n      </div>\r\n      <div className=\"col-md-5 d-flex flex-column\">\r\n        <div style={{ fontSize: \"1.1rem\"}}>\r\n          Rates\r\n        </div>\r\n        <BillDetail \r\n          name={\"0\\u33a5 to 10\\u33a5\"}\r\n          value={\"Php 50.00\"}\r\n        />\r\n        <BillDetail \r\n          name={\"Succeeding 10\\u33a5\"}\r\n          value={\"Php 11.00/\\u33a5\"}\r\n        />\r\n      </div>\r\n      <div className=\"col-md-5 d-flex flex-column ml-auto\">\r\n        <div style={{ fontSize: \"1.1rem\"}}>\r\n          Charges\r\n        </div>\r\n        <BillDetail \r\n          name={\"0\\u33a5 to 10\\u33a5\"}\r\n          value={\"Php 50.00\"}\r\n        />\r\n        <BillDetail \r\n          name={\"Succeeding 10\\u33a5\"}\r\n          value={`Php ${chargePerAboveTen || \"0\"}.00`}\r\n        />\r\n        <BillDetail \r\n          name={\"Other Charges:\"}\r\n          value={`Php ${chargeOthers || \"0\"}.00`}\r\n        />\r\n      </div>\r\n      <div className=\"col-md-5 d-flex flex-column ml-auto\">\r\n        <div className=\"col-md-5 d-flex w-100 justify-content-between\">\r\n      <span style={{ fontWeight: \"500\", fontSize: \"1.15rem\"}}>\r\n        {\"Total Amount Due:\"}\r\n      </span>\r\n        {`Php ${totalAmountDue || \"0\"}.00`}\r\n    </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}","import { useState } from \"react\";\r\nimport { SelectedBill } from \"./SelectedBill\";\r\n\r\n\r\n\r\nexport const BillSection = (props) => {\r\n  const { account } = props;\r\n  const { bills } = account;\r\n  const [selectedBill, setSelectedBill] = useState(Object.values(bills)[0] || {})\r\n\r\n\r\n  function renderSelectMenu() {\r\n    if (Object.keys(bills).length <= 0) {\r\n      return (\r\n        <select \r\n            className=\"form-select\" \r\n            aria-label=\"Select a statement period\"\r\n            disabled={true}\r\n            defaultChecked={true}\r\n          >\r\n            <option>No Available Statements</option>\r\n        </select>\r\n      )\r\n    } else {\r\n      return (\r\n        <select\r\n          className=\"form-select\" \r\n          aria-label=\"Select a statement period\"\r\n          defaultChecked={true}\r\n          onChange={e => {\r\n            setSelectedBill(bills[e.target.value])\r\n          }}  \r\n        >\r\n          {Object.keys(bills).map((key) => {\r\n            return <option\r\n              key={key}\r\n              value={key}\r\n            >\r\n              { key }\r\n            </option>\r\n          }\r\n          )}\r\n        </select>\r\n      )\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n\r\n      <div className=\"row align-items-center justify-content-center\">\r\n        <div className=\"col-7 h5\">Statement Summary</div>\r\n        <div className=\"col-5\">\r\n          {renderSelectMenu()}\r\n        </div>\r\n      </div>\r\n\r\n      <SelectedBill {...selectedBill} />\r\n\r\n    </div>\r\n  )\r\n}","import { BillSection } from \"./BillSection\";\r\nimport \"./style.css\"\r\n\r\n\r\nexport const AccountDetailsModal = ({account, setShowModal}) => {\r\n\r\n  function handleClose() {\r\n    setShowModal(false)\r\n  }\r\n\r\n  console.log(account);\r\n  \r\n\r\n  return (\r\n    <div className=\"account-details-modal\">\r\n      <div className=\"modal-dialog modal-lg details-modal\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <p className=\"modal-title h4\" id=\"account-details-modal\">\r\n              {`Account No.: ${account.accountNumber}`}\r\n            </p>\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn-close\" \r\n              aria-label=\"Close\"\r\n              onClick={handleClose}\r\n              ></button>\r\n          </div>\r\n          <div className=\"modal-body p-4\">\r\n            <div className=\"row g-4\">\r\n              <div className=\"col-md-5 d-flex justify-content-between mr-auto\">\r\n                <span className=\"font-weight-bold\">Full Name:</span>\r\n                <span>{account.fullName}</span> \r\n              </div>\r\n              <div className=\"col-md-5 d-flex justify-content-between\">\r\n                <span className=\"font-weight-bold\">Address: </span>\r\n                <span> {account.address} </span>\r\n              </div>\r\n              <div className=\"col-md-5 d-flex justify-content-between mr-auto\">\r\n                <span className=\"font-weight-bold\">Mobile No.: </span>\r\n                <span>\r\n                  {\r\n                    `0${account.mobileNumber.substring(3,6)}-${account.mobileNumber.substring(6,9)}-${account.mobileNumber.substring(9)}`\r\n                  }\r\n                </span>\r\n              </div>\r\n              <div className=\"col-md-5 d-flex justify-content-between\">\r\n                <span className=\"font-weight-bold\">Meter Serial No.: </span>\r\n                <span> {account.meterSerialNumber} </span>\r\n              </div>\r\n            </div>\r\n            <hr className=\"my-4\" />\r\n\r\n            <BillSection \r\n              account={account}\r\n            />\r\n            \r\n            {/* <div className=\"row g-4\">\r\n              <div className=\"col-6 h5\">Previous Statement Summary</div>\r\n              <div className=\"col-md-5 d-flex justify-content-between ml-auto\">\r\n                <span className=\"font-weight-bold\">Month Covered:</span>\r\n                  {\r\n                    account.lastBillPeriodTo === 0 ? \"-\" \r\n                    : `${months[new Date(account.lastBillPeriodTo).getMonth() === 0 ? 11 : new Date(account.lastBillPeriodTo).getMonth()-1]} - ${months[new Date(account.lastBillPeriodTo).getMonth()]}`\r\n                  }\r\n              </div>\r\n              <div className=\"col-md-5 d-flex justify-content-between mr-auto\">\r\n                <span className=\"font-weight-bold\">Amount Due: </span>\r\n                <span>\r\n                  {account.lastBillReading === 0 ? \"-\" : `Php ${total}.00`}\r\n                </span>\r\n              </div>\r\n              <div className=\"col-md-5 d-flex justify-content-between\">\r\n                <span className=\"font-weight-bold\">Meter Reading: </span>\r\n                <span> \r\n                  {account.lastBillReading === 0 ? \"-\" : `${account.lastBillReading} Cu. Meters`}\r\n                </span>\r\n              </div>\r\n            </div> */}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn btn-secondary\" \r\n              onClick={handleClose}\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>      \r\n    </div>\r\n  )\r\n}","\r\n\r\n\r\nexport const ArrowUp = () => (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-arrow-up\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"/>\r\n  </svg>\r\n)\r\n\r\n\r\nexport const ArrowDown = () => (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-arrow-down\" fill=\"currentColor\"   xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const TrashCan = () => (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-trash\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\r\n    <path fillRule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\r\n  </svg>    \r\n)\r\n\r\n\r\n\r\nexport const ChevronDown = () => (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-chevron-down\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const ChevronUp = () => (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-chevron-up\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z\"/>\r\n  </svg>\r\n)\r\n\r\n\r\nexport const ChevronDoubleLeft = () => (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-chevron-double-left\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\"/>\r\n    <path fillRule=\"evenodd\" d=\"M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const ChevronDoubleRight = () => (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-chevron-double-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z\"/>\r\n    <path fillRule=\"evenodd\" d=\"M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z\"/>\r\n  </svg>  \r\n)","import { ChevronDoubleLeft, ChevronDoubleRight, ChevronDown, ChevronUp } from \"../../pages/main/Accounts/SvgIcons\";\r\n\r\n\r\nexport const ColGroup = ({columns}) => {\r\n  return (\r\n    <colgroup>\r\n      {columns.map((column, index) => <col key={index} style={{ width: `${column.width}%`}} />)}\r\n    </colgroup>\r\n  )\r\n};\r\n\r\n\r\nexport const ColHeadings = (props) => {\r\n  const {columns, setOrderBy, setDirection, arrow} = props;\r\n\r\n  const arrowIcons = {\r\n    asc: <ChevronUp />,\r\n    desc: <ChevronDown />\r\n  };\r\n\r\n  return (\r\n    <thead>\r\n      <tr>\r\n        {\r\n          columns.map((column, index) => (\r\n            (column.id === \"actions\") ?\r\n            <th key={index} scope=\"col\" className={column.className}></th>\r\n            :\r\n            <th key={index} scope=\"col\" className={column.className}>\r\n              <div\r\n                className=\"d-flex w-100 justify-content-between align-items-center py-2\"\r\n                style={{cursor: \"pointer\"}}\r\n                title={column.title || \"\"}\r\n                onClick={() => {\r\n                  setOrderBy(column.id);\r\n                  setDirection(dir => (dir === \"asc\") ? \"desc\" : \"asc\")\r\n                }}\r\n              >\r\n                <div>\r\n                  {column.title || \"\"}\r\n                </div>\r\n                {arrow && arrowIcons[arrow[column.id]]}\r\n              </div>\r\n            </th>\r\n          ))\r\n        }\r\n      </tr>\r\n    </thead>\r\n  )\r\n};\r\n\r\n\r\nexport const TableBody = (props) => {\r\n  const { array, rows, emptyRows } = props;\r\n  const height = `2.9rem`;\r\n\r\n\r\n  const renderRows = (element) => {\r\n    return rows.map((row, index) => {\r\n      if (index === 0) {\r\n        return (\r\n          <th key={row.id} scope=\"row\" className={row.className}>\r\n            {element && element[row.id]}\r\n          </th>\r\n        )\r\n      } else {\r\n        if (row.type === \"longDate\") {\r\n          return (\r\n            <td key={row.id} className={row.className}>\r\n              {element[row.id] === 0 ? \"-\" : ((new Date(element[row.id])).toDateString().substring(4,7))}\r\n            </td>\r\n          )\r\n        } else if (row.type === \"barangay\") {\r\n          return (\r\n            <td key={row.id} className={row.className}>\r\n              {element[row.id].split(\",\")[0]}\r\n            </td>\r\n          )\r\n        } else if (row.type === \"action\") {\r\n          return (\r\n            <td key={row.id} className={row.className}>\r\n              {\r\n                row.actions.map((action, index) => {\r\n                  return (\r\n                    <button\r\n                      key={index} \r\n                      className={`btn btn-sm ${action.className}`}\r\n                      onClick={() => {action.callback(element)}}\r\n                    >\r\n                      {action.label}\r\n                    </button>\r\n                  )\r\n                })\r\n              }   \r\n            </td>\r\n          )\r\n        } else return (\r\n          <td key={row.id} className={row.className}>\r\n            {element[row.id]}\r\n          </td>\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  \r\n  const renderEmptyRows = () => {\r\n    let empArr;\r\n\r\n    if (emptyRows > 0) {\r\n      empArr = [...Array(emptyRows).keys()];\r\n      \r\n    } \r\n    \r\n    if (empArr !== undefined) {\r\n      return empArr.map(item => (\r\n        <tr key={item} style={{ height: height }}>\r\n          <td className=\"bg-paper\" colSpan={rows.length}></td>\r\n        </tr>\r\n      ))\r\n    }\r\n  }\r\n   \r\n\r\n  return (\r\n    <tbody>\r\n      {\r\n        array && array.map((item, index) => {\r\n          return (\r\n            <tr key={item.id} >\r\n              {renderRows(item)}\r\n            </tr>\r\n          )\r\n        })\r\n      }\r\n      { renderEmptyRows() }\r\n    </tbody>\r\n  )\r\n}\r\n\r\n\r\nexport const Pagination = (props) => {\r\n  const { length, pagination, setPagination, totalPages } = props;\r\n\r\n  const handleLeftButton = () => {\r\n    if (pagination.pageNumber <= 1 ) {\r\n      return false;\r\n    }\r\n    setPagination({\r\n      ...pagination,\r\n      pageNumber: pagination.pageNumber - 1\r\n    })\r\n  }\r\n  const handleRightButton = () => {\r\n    if (pagination.pageNumber >= totalPages) {\r\n      return false;\r\n    }\r\n    setPagination({\r\n      ...pagination,\r\n      pageNumber: pagination.pageNumber + 1\r\n    })\r\n  }\r\n\r\n  const options = [5, 10, 25, 50];\r\n\r\n \r\n  \r\n\r\n  return (\r\n    <tfoot>\r\n      <tr>\r\n        <td colSpan={length} >\r\n          <div className=\"d-flex justify-content-center\">\r\n            \r\n            <ul className=\"pagination my-0\">\r\n              <li \r\n                className={`page-item ${(pagination.pageNumber <= 1 ) && \"disabled\"}`} \r\n                style={{cursor: `${(pagination.pageNumber > 1) ? \"pointer\" : \"default\"}`}} \r\n                onClick={handleLeftButton}>\r\n                <span className=\"page-link\" aria-hidden={true} style={{ color: \"#3a3a3a\" }}>\r\n                  <ChevronDoubleLeft />\r\n                </span>\r\n              </li>\r\n              <li className=\"page-item\" style={{cursor: \"default\"}}>\r\n                <span className=\"page-link\" aria-hidden={true} style={{ color: \"#3a3a3a\" }}>\r\n                  No. of Rows\r\n                  <select \r\n                    className=\"ml-1\" \r\n                    style={{border: \"0px\"}}\r\n                    aria-label=\"Rows Per Page\"\r\n                    defaultChecked={true}\r\n                    defaultValue={pagination.rowsPerPage}\r\n                    onChange={(e) => {\r\n                      setPagination({\r\n                        ...pagination,\r\n                        rowsPerPage: parseInt(e.target.value)\r\n                      })\r\n                    }}\r\n                  >\r\n                    {options.map((item, index) => (\r\n                      <option key={index} value={item}>{item}</option>\r\n                    ))}\r\n                  </select>\r\n                </span>\r\n              </li>\r\n              <li className=\"page-item\" style={{cursor: \"default\"}}>\r\n                <span className=\"page-link\" aria-hidden={true} style={{ color: \"#3a3a3a\" }}>\r\n                  Page <b>{pagination.pageNumber}</b> of <b>{totalPages}</b>\r\n                </span>\r\n              </li>\r\n              <li \r\n                className={`page-item ${(pagination.pageNumber >= totalPages) && \"disabled\"}`} \r\n                style={{cursor: `${(pagination.pageNumber < totalPages) ? \"pointer\" : \"default\"}`}} \r\n                onClick={handleRightButton}>\r\n                <span className=\"page-link\" aria-hidden={true} style={{ color: \"#3a3a3a\" }}>\r\n                  <ChevronDoubleRight />\r\n                </span>\r\n              </li>\r\n            </ul>\r\n\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </tfoot>\r\n  )\r\n}","import { useState } from \"react\";\r\nimport { useTablePagination } from \"../../hooks/useTablePagination\";\r\nimport { useTableSorting } from \"../../hooks/useTableSorting\";\r\nimport { ColGroup, ColHeadings, Pagination, TableBody } from \"./TableComponents\";\r\n\r\n\r\n\r\n\r\n\r\nexport const DataTable = (props) => {\r\n\r\n  const { rows, columns, data } = props;\r\n\r\n  const [orderBy, setOrderBy] = useState(data.length > 0 && Object.keys(data[0])[1]);\r\n  const [direction, setDirection] = useState(\"asc\");\r\n  const [pagination, setPagination] = useState({\r\n    rowsPerPage: 10,\r\n    pageNumber: 1\r\n  });\r\n\r\n\r\n  const { sortedArray, sortArrow } = useTableSorting({\r\n    data: data,\r\n    orderBy: orderBy,\r\n    direction: direction\r\n  });\r\n\r\n  const { currentPage, totalPages, emptyRows } = useTablePagination({\r\n    data: sortedArray,\r\n    rowsPerPage: pagination.rowsPerPage,\r\n    pageNumber: pagination.pageNumber\r\n  });\r\n\r\n  \r\n  \r\n  \r\n\r\n  return (\r\n    <table className=\"table table-hover table-striped w-100 align-middle\" >\r\n      <ColGroup columns={columns} />\r\n      <ColHeadings \r\n        columns={columns}\r\n        setOrderBy={setOrderBy}\r\n        setDirection={setDirection}\r\n        arrow={sortArrow}\r\n      />\r\n      <TableBody \r\n        array={currentPage}\r\n        rows={rows}\r\n        emptyRows={emptyRows}\r\n      />\r\n      <Pagination \r\n        length={rows.length} \r\n        pagination={pagination} \r\n        setPagination={setPagination}\r\n        totalPages={totalPages}\r\n      />\r\n    </table>    \r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\n\r\nexport const useTableSorting = ({data, orderBy, direction}) => {\r\n  const [state, setState] = useState({\r\n    sortedArray: [...data],\r\n    sortArrow: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (direction === \"asc\") {\r\n      setState({\r\n        sortedArray: [...data].sort((a, b) => {\r\n          if (typeof a[orderBy] !== \"number\") {\r\n            if (a[orderBy] > b[orderBy]) {\r\n              return 1;\r\n            } else if (b[orderBy] > a[orderBy]) {\r\n              return -1;\r\n            } else return 0;\r\n          } else {\r\n            return a[orderBy] - b[orderBy];\r\n          }\r\n        }),\r\n        sortArrow: { [orderBy]: direction}\r\n      })\r\n    } else {\r\n      setState({\r\n        sortedArray: [...data].sort((a, b) => {\r\n          if (typeof a[orderBy] !== \"number\") {\r\n            if (a[orderBy] < b[orderBy]) {\r\n              return 1;\r\n            } else if (b[orderBy] < a[orderBy]) {\r\n              return -1;\r\n            } else return 0;\r\n          } else {\r\n            return b[orderBy] - a[orderBy];\r\n          }\r\n        }),\r\n        sortArrow: { [orderBy]: direction}\r\n      })\r\n    } \r\n  }, [data, direction, orderBy])\r\n\r\n  return state;\r\n}\r\n\r\n","import { useEffect, useState } from \"react\"\r\n\r\n\r\n\r\nexport const useTablePagination = ({data, rowsPerPage, pageNumber}) => {\r\n  const [state, setState] = useState({\r\n    currentPage: null,\r\n    totalPages: 0,\r\n    emptyRows: 0\r\n  });\r\n \r\n  useEffect(() => {\r\n    let indexLastItem = pageNumber * rowsPerPage;\r\n    let indexFirstItem = indexLastItem - rowsPerPage;\r\n    let emptyRows = (indexLastItem - data.length);\r\n    setState({\r\n      currentPage: [...data].slice(indexFirstItem, indexLastItem),\r\n      totalPages: Math.round((data.length / rowsPerPage) + 0.5),\r\n      emptyRows: (emptyRows < 0  ? 0 : emptyRows)\r\n    });\r\n  }, [data, rowsPerPage, pageNumber])\r\n\r\n  return state;\r\n}","\r\nconst DOMAIN = \"https://sp1-blue-sparrow.herokuapp.com/api/v1\";\r\n\r\nexport const deleteAccountApi = async (token, accountNumber) => {\r\n  const ENDPOINT = \"/account-management/accounts/delete/\";\r\n  let response, data;\r\n\r\n  try {\r\n    response = await fetch(DOMAIN + ENDPOINT + accountNumber, {\r\n      method: \"DELETE\",\r\n      headers: { \"x-auth-token\": token}\r\n    })\r\n  } catch (error) {\r\n    console.log(error)\r\n    response = \"error\"\r\n  }\r\n\r\n  try {\r\n    if (response !== \"error\") {\r\n      data = await response.text()\r\n    }\r\n  } catch (error) {\r\n    console.log(error)\r\n    data = \"error\"\r\n  }\r\n\r\n  return data\r\n}","import { useEffect, useState } from \"react\";\r\nimport { AccountDetailsModal } from \"../../../components/AccountDetailsModal/AccountDetailsModal\";\r\nimport { DataTable } from \"../../../components/DataTable/DataTable\";\r\nimport Loader from \"../../../components/Loader/Loader\";\r\nimport { PopupNotif } from \"../../../components/PopupNotif/PopupNotif\";\r\nimport { useAccountsListContext } from \"../../../contexts/AccountsListContext\";\r\nimport { useFetch } from \"../../../hooks/useFetch\";\r\nimport { deleteAccountApi } from \"../../../utils/AccountsApiMethods\";\r\nimport { TrashCan } from \"./SvgIcons\";\r\n\r\n\r\nexport const Accounts = () => {\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n  const API = `/account-management/accounts/bills/all`;\r\n  const { data } = useFetch({\r\n    endpoint: API,\r\n    token: TOKEN\r\n  });\r\n\r\n  const { accountList, setAccountList } = useAccountsListContext();\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setAccountList(data)\r\n    }\r\n  }, [data, setAccountList])\r\n\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [viewAccount, setViewAccount] = useState({});\r\n\r\n\r\n  const [showPopup, setShowPopup] = useState(false);\r\n  const [deleteThis, setDeleteThis] = useState(\"\");\r\n  const [deleteLoading, setDeleteLoading] = useState(false);\r\n  const [deletePopup, setDeletePopup] = useState({\r\n    title: \"Delete Account\",\r\n    message: \"Please be reminded that once deleted, all account information, including old statements, cannot be restored. \\n\\nPress 'Confirm' to continue.\"\r\n  })\r\n\r\n  function handleDelete(accountNumber) {\r\n    setDeleteLoading(true);\r\n    deleteAccountApi(TOKEN, accountNumber)\r\n    .then(response => {\r\n      if (response === \"ACCOUNT DELETED\") {\r\n        setDeleteLoading(false)\r\n        setDeletePopup({title: \"Success\", \r\n        message: `Account with Account No. ${accountNumber} has been deleted.`});\r\n      }\r\n       setAccountList(accountList.filter(item => (item.accountNumber !== accountNumber)))\r\n    })\r\n    .catch(e => {\r\n      console.log(e)\r\n      setDeleteLoading(false)\r\n      setDeletePopup({title: \"Failed\", \r\n      message: \"There was a problem deleting this account. \\n\\nRefresh the page and try again.\"})\r\n    });\r\n  };\r\n\r\n\r\n  function hideDeleteCallback() {\r\n    setShowPopup(false);\r\n    setDeletePopup({\r\n      title: \"Delete Account\",\r\n      message: \"Please be reminded that once deleted, all account information, including old statements, cannot be restored. \\n\\nPress 'Confirm' to continue.\"\r\n    });\r\n  }\r\n\r\n  \r\n\r\n  const showConfirmation = (title, message, hide, confirmAction, refNumber, loading) => {\r\n    return (showPopup && \r\n      <PopupNotif \r\n        title={title}  \r\n        message={message}\r\n        hide={hide}\r\n        confirmAction={confirmAction}\r\n        refNumber={refNumber}\r\n        loading={loading}\r\n      />  \r\n    )\r\n  }\r\n  \r\n\r\n  function viewAccountCallback(account) {\r\n    setShowModal(true);\r\n    setViewAccount(account)\r\n  };\r\n  function showDeleteCallback(account) {\r\n    setShowPopup(true)\r\n    setDeleteThis(account.accountNumber)\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      id: \"accountNumber\",\r\n      title: \"Account No.\",\r\n      width: \"17\",\r\n      className: \"my-0 py-0\"\r\n    },\r\n    {\r\n      id: \"fullName\",\r\n      title: \"Full Name\",\r\n      width: \"22\",\r\n      className: \"my-0 py-0\"\r\n    },\r\n    {\r\n      id: \"address\",\r\n      title: \"Barangay\",\r\n      width: \"16\",\r\n      className: \"my-0 py-0\"\r\n    },\r\n    {\r\n      id: \"actions\",\r\n      title: \"\",\r\n      width: \"19\",\r\n      className: \"\"\r\n    },\r\n  ];\r\n\r\n  const rows = [\r\n    {\r\n      id: \"accountNumber\",\r\n      type: \"string\",\r\n      className: \"\",\r\n    },\r\n    {\r\n      id: \"fullName\",\r\n      type: \"string\",\r\n      className: \"\",\r\n    },\r\n    {\r\n      id: \"address\",\r\n      type: \"barangay\",\r\n      className: \"\",\r\n    },\r\n    {\r\n      id: \"actions\",\r\n      type: \"action\",\r\n      className: \"text-center\",\r\n      actions: [\r\n        {\r\n          label: `${window.innerWidth < 768 ? \"View\" : \"View Details\"}`,\r\n          className: \"btn-primary px-2 mx-1\",\r\n          callback: viewAccountCallback\r\n        },\r\n        {\r\n          label: <TrashCan />,\r\n          className: \"btn-danger m-2 text-center\",\r\n          callback: showDeleteCallback\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"container h-100\">\r\n      {showConfirmation(deletePopup.title, deletePopup.message, hideDeleteCallback, handleDelete, deleteThis, deleteLoading)}\r\n      {showModal && <AccountDetailsModal account={viewAccount} setShowModal={setShowModal}  />}\r\n      <p className=\"display-5 text-center py-3\">\r\n        Accounts\r\n      </p>\r\n      {\r\n        !data ||!accountList ?\r\n        <div className=\"row py-4 h-50\">\r\n          <Loader />\r\n        </div>\r\n        :\r\n        <div className=\"row pt-2\">\r\n          <div className=\"col-12 col-md-10 m-auto\">\r\n            <DataTable \r\n              columns={columns}\r\n              rows={rows}\r\n              data={accountList}\r\n            />\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport const AccountNumberField = ({values, setValues, errors}) => {\r\n\r\n  function handleChange(e) {\r\n    const regex = /^[0-9 -]*$/;\r\n    if (regex.test(e.target.value)) {\r\n      setValues({...values, accountNumber: e.target.value.trim()})\r\n    } else {\r\n      e.target.value.trim()\r\n    }\r\n  };\r\n\r\n  const [state, setState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (!errors.accountNumber) {\r\n      setState(\"form-control\")\r\n    } else {\r\n      setState(\"form-control is-invalid\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label\r\n        htmlFor=\"accountNumberId\" \r\n        className=\"form-label\"\r\n      >\r\n        Account Number\r\n      </label>\r\n      <input \r\n        type=\"text\" \r\n        className={state}\r\n        id=\"accountNumberId\"\r\n        placeholder=\"ex. 2020-00-01\"\r\n        value={values.accountNumber || \"\"}\r\n        onChange={handleChange}\r\n      />\r\n      <div className=\"invalid-feedback\">\r\n        {errors.accountNumber || \"\"}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport const AddressField = ({errors}) => {\r\n\r\n  \r\n\r\n  const [state, setState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (!errors.address) {\r\n      setState(\"form-control\")\r\n    } else {\r\n      setState(\"form-control is-invalid\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label\r\n        htmlFor=\"addressId\" \r\n        className=\"form-label\"\r\n      >\r\n        Address\r\n      </label>\r\n      <input \r\n        type=\"text\" \r\n        className={state}\r\n        id=\"addressId\"\r\n        value={\"Alcantara, Romblon\"}\r\n        disabled={true}\r\n      />\r\n      <div className=\"invalid-feedback\">\r\n        {errors.address || \"\"}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport const FullNameField = ({values, setValues, errors}) => {\r\n\r\n  function handleChange(e) {\r\n    setValues({...values, fullName: e.target.value})\r\n  };\r\n\r\n  const [state, setState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (!errors.fullName) {\r\n      setState(\"form-control\")\r\n    } else {\r\n      setState(\"form-control is-invalid\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label\r\n        htmlFor=\"fullNameId\" \r\n        className=\"form-label\"\r\n      >\r\n        Full Name\r\n      </label>\r\n      <input \r\n        type=\"text\" \r\n        className={state}\r\n        id=\"fullNameId\"\r\n        placeholder=\"ex. Juan Dela Cruz\"\r\n        value={values.fullName || \"\"}\r\n        onChange={handleChange} \r\n      />\r\n      <div className=\"invalid-feedback\">\r\n        {errors.fullName || \"\"}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport const MeterSerialNumberField = ({values, setValues, errors}) => {\r\n\r\n  function handleChange(e) {\r\n    setValues({...values, meterSerialNumber: e.target.value})\r\n  };\r\n\r\n  const [state, setState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (!errors.meterSerialNumber) {\r\n      setState(\"form-control\")\r\n    } else {\r\n      setState(\"form-control is-invalid\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label\r\n        htmlFor=\"meterSerialNumberId\" \r\n        className=\"form-label\"\r\n      >\r\n        Meter Serial Number\r\n      </label>\r\n      <input \r\n        type=\"text\" \r\n        className={state}\r\n        id=\"meterSerialNumberId\"\r\n        placeholder=\"ex. EVJ 64352341\"\r\n        value={values.meterSerialNumber || \"\"}\r\n        onChange={handleChange} \r\n      />\r\n      <div className=\"invalid-feedback\">\r\n        {errors.meterSerialNumber || \"\"}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport const MobileNumberField = ({values, setValues, errors}) => {\r\n\r\n  function handleChange(e) {\r\n    const regex = /^([+0]63)?[0-9]*$/;\r\n    if (regex.test(e.target.value) && e.target.value.length < 14 && e.target.value.length >= 3) {\r\n      setValues({...values, mobileNumber: e.target.value})\r\n    } else e.target.value.trim();\r\n  };\r\n\r\n  const [state, setState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (!errors.mobileNumber) {\r\n      setState(\"form-control\")\r\n    } else {\r\n      setState(\"form-control is-invalid\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label\r\n        htmlFor=\"mobileNumberId\" \r\n        className=\"form-label\"\r\n      >\r\n        Mobile Number\r\n      </label>\r\n      <input \r\n        type=\"text\" \r\n        className={state}\r\n        id=\"mobileNumberId\"\r\n        placeholder=\"ex. 9179876543\"\r\n        value={values.mobileNumber || \"\"}\r\n        onChange={handleChange} \r\n      />\r\n      <div className=\"invalid-feedback\">\r\n        {errors.mobileNumber || \"\"}\r\n      </div>\r\n    </div>\r\n  )\r\n}","\r\n\r\n\r\nexport const BarangayField = ({values, setValues}) => {\r\n\r\n  const barangayList = [\r\n    {\r\n      label: \"Poblacion\",\r\n      value: \"POB\"\r\n    },\r\n    {\r\n      label: \"Gui-ob\",\r\n      value: \"GUI\"\r\n    },\r\n    {\r\n      label: \"Madalag\",\r\n      value: \"MAD\"\r\n    },\r\n    {\r\n      label: \"Bagsik\",\r\n      value: \"BAG\"\r\n    },\r\n    {\r\n      label: \"Lawan\",\r\n      value: \"LAW\"\r\n    },\r\n    {\r\n      label: \"Camili\",\r\n      value: \"CAM\"\r\n    },\r\n    {\r\n      label: \"San Isidro\",\r\n      value: \"SNI\"\r\n    },\r\n    {\r\n      label: \"San Roque\",\r\n      value: \"SNR\"\r\n    },\r\n    {\r\n      label: \"Tugdan\",\r\n      value: \"TUG\"\r\n    },\r\n    {\r\n      label: \"Calagonsao\",\r\n      value: \"CAL\"\r\n    },\r\n    {\r\n      label: \"Bonlao\",\r\n      value: \"BON\"\r\n    },\r\n    {\r\n      label: \"Comod-om\",\r\n      value: \"COM\"\r\n    }\r\n  ];\r\n\r\n  const addressList = {\r\n    POB: \"Poblacion\",\r\n    GUI: \"Gui-ob\",\r\n    MAD: \"Madalag\",\r\n    BAG: \"Bagsik\",\r\n    LAW: \"Lawan\",\r\n    CAM: \"Camili\",\r\n    SNI: \"San Isidro\",\r\n    SNR: \"San Roque\",\r\n    TUG: \"Tugdan\",\r\n    CAL: \"Calagonsao\",\r\n    BON: \"Bonlao\",\r\n    COM: \"Comod-om\",\r\n  };\r\n    \r\n  \r\n\r\n  function handleChange(e) {\r\n    setValues(\r\n      {\r\n        ...values, \r\n        barangay: e.target.value,\r\n        address: `${addressList[`${e.target.value}`]}, Alcantara, Romblon`\r\n      }\r\n    )\r\n    console.log(addressList[`${e.target.value}`]);\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label \r\n        htmlFor=\"barangayId\" \r\n        className=\"form-label\"\r\n      >\r\n        Barangay\r\n      </label>\r\n      <select \r\n        id=\"barangayId\" \r\n        className=\"form-select\" \r\n        defaultChecked={true}\r\n        defaultValue={barangayList[0].value}\r\n        onChange={handleChange}\r\n      >\r\n        {barangayList.map(item => (\r\n          <option key={item.label} value={item.value}>\r\n            {item.label}\r\n          </option>\r\n        ))}\r\n      </select> \r\n    </div> \r\n  )\r\n}","\r\n\r\nexport const NewOrExistingField = ({values, setValues}) => {\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"col-md-12\">\r\n      <p className=\"form-check-label text-center font-weight-bold\">\r\n        Select if Account is New or Existing\r\n      </p>\r\n      <div className=\"col-md-12 d-flex justify-content-center\">\r\n        <div className=\"form-check form-check-inline mx-5\">\r\n          <input \r\n            className=\"form-check-input\" \r\n            type=\"radio\" \r\n            name=\"newOrExistingAccountOptions\" \r\n            id=\"newAccountId\"\r\n            value={false}\r\n            checked={!values.existing} \r\n            onChange={() => {\r\n              setValues({\r\n                ...values, \r\n                existing: false,\r\n                lastBillNumber: 0,\r\n                lastBillReading: 0,\r\n                lastBillPeriodTo: 0\r\n              })\r\n            }}\r\n          />\r\n          <label className=\"form-check-label\" htmlFor=\"newAccountId\">New</label>\r\n        </div>\r\n        <div className=\"form-check form-check-inline mx-5\">\r\n          <input \r\n            className=\"form-check-input\" \r\n            type=\"radio\" \r\n            name=\"newOrExistingAccountOptions\" \r\n            id=\"existingAccountId\" \r\n            value={true}\r\n            checked={values.existing} \r\n            onChange={() => {\r\n              setValues({\r\n                ...values, \r\n                existing: true,\r\n                lastBillPeriodTo: 1580140800000\r\n              })\r\n            }}\r\n          />\r\n          <label className=\"form-check-label\" htmlFor=\"existingAccountId\">Existing</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\n\r\n\r\n\r\nexport const LastBillDetailsFields = ({values, setValues, errors}) => {\r\n\r\n  const monthList = [\r\n    {\r\n      label: \"January\",\r\n      value: 1580140800000\r\n    },\r\n    {\r\n      label: \"February\",\r\n      value: 1582819200000\r\n    },\r\n    {\r\n      label: \"March\",\r\n      value: 1585324800000\r\n    },\r\n    {\r\n      label: \"April\",\r\n      value: 1588003200000\r\n    },\r\n    {\r\n      label: \"May\",\r\n      value: 1590595200000\r\n    },\r\n    {\r\n      label: \"June\",\r\n      value: 1593273600000\r\n    },\r\n    {\r\n      label: \"July\",\r\n      value: 1595865600000\r\n    },\r\n    {\r\n      label: \"August\",\r\n      value: 1598544000000\r\n    },\r\n    {\r\n      label: \"September\",\r\n      value: 1601222400000\r\n    },\r\n    {\r\n      label: \"October\",\r\n      value: 1603814400000\r\n    },\r\n    {\r\n      label: \"November\",\r\n      value: 1606492800000\r\n    },\r\n    {\r\n      label: \"December\",\r\n      value: 1609084800000\r\n    }\r\n  ];\r\n\r\n  const [lastBillNumberState, setLastBillNumberState] = useState(\"form-control\");\r\n  const [lastBillReadingState, setLastBillReadingState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (errors.lastBillNumber) {\r\n      setLastBillNumberState(s => s = \"form-control is-invalid\")\r\n    } else {\r\n      setLastBillNumberState(s => s = \"form-control\")\r\n    }\r\n    \r\n    if (errors.lastBillReading) {\r\n      setLastBillReadingState(s => s = \"form-control is-invalid\")\r\n    } else {\r\n      setLastBillReadingState(s => s = \"form-control\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"row g-3\">\r\n      <p className=\"font-weight-bold  my-0 py-0\">\r\n        Most Recent Bill Details:\r\n      </p>\r\n      <div className=\"col-md-3\">\r\n          <label htmlFor=\"lastBillNumberId\" className=\"form-label\">\r\n            Bill Number\r\n          </label>\r\n          <input \r\n            type=\"number\" \r\n            className={lastBillNumberState} \r\n            id=\"lastBillNumberId\" \r\n            onChange={(e) => {\r\n              setValues({...values, lastBillNumber: e.target.value})\r\n            }}\r\n          />\r\n          <div className=\"invalid-feedback\">\r\n            {errors.lastBillNumber || \"\"}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <label htmlFor=\"lastBillReadingId\" className=\"form-label\">\r\n            Reading\r\n          </label>\r\n          <input \r\n            type=\"number\"\r\n            className={lastBillReadingState}\r\n            id=\"lastBillReadingId\"\r\n            onChange={(e) => {\r\n              setValues({...values, lastBillReading: e.target.value})\r\n            }}\r\n          />\r\n          <div className=\"invalid-feedback\">\r\n            {errors.lastBillReading || \"\"}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <label htmlFor=\"lastBillYearId\" className=\"form-label\">\r\n            Year\r\n          </label>\r\n          <select \r\n            id=\"lastBillYearId\" \r\n            className=\"form-select\"\r\n          >\r\n            <option value={1577808000000} defaultChecked={true}>\r\n              2020\r\n            </option>\r\n          </select> \r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <label htmlFor=\"lastBillPeriodToId\" className=\"form-label\">\r\n            Month\r\n          </label>\r\n          <select \r\n            id=\"lastBillPeriodToId\" \r\n            className=\"form-select\"\r\n            defaultChecked={true}\r\n            onChange={(e) => {\r\n              setValues({...values, lastBillPeriodTo: e.target.value})\r\n            }}\r\n          >\r\n            {monthList.map(item => (\r\n              <option key={item.label} value={item.value}>\r\n                {item.label}\r\n              </option>\r\n            ))}\r\n          </select> \r\n        </div>\r\n      {/* <div className=\"col-md-12 d-flex justify-content-around\">\r\n        \r\n      </div> */}\r\n    </div>    \r\n  )\r\n}","import { validate } from \"./CreateAccountValidationRules\"\r\n\r\nconst CREATE_ACCOUNT_URI = \"https://sp1-blue-sparrow.herokuapp.com/api/v1/account-management/accounts/create\";\r\n\r\nexport const SubmitCreateAccountButton = (\r\n  { values,\r\n    errors, \r\n    setErrors, \r\n    setLoading, \r\n    setShowModal  }) => {\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n  function handleMouseDown() {\r\n    setErrors(validate(values))\r\n  }\r\n\r\n  function handleMouseUp(e) {\r\n    if (Object.keys(errors).length > 0) {\r\n      return false;\r\n    } else {\r\n      console.log(\"SENDING\");\r\n      setLoading(true);\r\n      fetch(CREATE_ACCOUNT_URI, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          \"x-auth-token\": TOKEN\r\n        },\r\n        body: JSON.stringify(values)\r\n      })\r\n      .then(response => response.text())\r\n      .then(data => {\r\n        setLoading(false);\r\n        if (data === \"Success\") {\r\n          setShowModal(true);\r\n        } else if (data === \"Account Number Already Taken\") {\r\n          setErrors({...errors, accountNumber: data})\r\n        } else {\r\n          setErrors({...errors, meterSerialNumber: data})\r\n        }\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n        alert(\"Something went wrong...\");\r\n        setLoading(false);\r\n      })\r\n    }\r\n  }\r\n\r\n  \r\n  \r\n\r\n  return (\r\n    <div className=\"col-md-12 d-flex justify-content-center py-3\">\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-primary w-50\"\r\n        onMouseDown={handleMouseDown}\r\n        onMouseUp={handleMouseUp}\r\n      >\r\n        Submit\r\n      </button>\r\n    </div>\r\n  )\r\n}","/* eslint-disable no-useless-escape */\r\n\r\n// ^[0-9]{4}\\-?[0-9]{2}\\-?[0-9]+\r\nexport const validate = (values) => {\r\n  let errors = {};\r\n  const mobileRegex = /^([+0]63)?[9]{1}[0-9]{9}$/;\r\n  const accountRegex = /^[0-9]{4}(-[0-9]{2})\\-?[0-9]+/;\r\n\r\n  if (!values.accountNumber) {\r\n    errors.accountNumber = \"Account Number is required\"\r\n  }\r\n\r\n  \r\n  if (!accountRegex.test(values.accountNumber)) {\r\n    errors.accountNumber = \"Invalid format (valid ex. 2016-09-03)\"\r\n  }\r\n\r\n  if (!values.fullName) {\r\n    errors.fullName = \"Full Name is required\"\r\n  }\r\n\r\n  if (!values.mobileNumber) {\r\n    errors.mobileNumber = \"Mobile Number is required\"\r\n  }\r\n  \r\n  if (!mobileRegex.test(values.mobileNumber)) {\r\n    errors.mobileNumber = \"Invalid mobile number (valid ex. +639065338541)\"\r\n  }\r\n\r\n  if (values.mobileNumber?.length < 13) {\r\n    errors.mobileNumber = \"Mobile Number is too short\"\r\n  }\r\n\r\n  if (!values.address) {\r\n    errors.address = \"Address is required\"\r\n  }\r\n\r\n  if (!values.meterSerialNumber) {\r\n    errors.meterSerialNumber = \"Meter Serial Number is required\"\r\n  }\r\n  \r\n  if (values.existing) {\r\n    if (!values.lastBillNumber) {\r\n      errors.lastBillNumber = \"Bill Number is required\"\r\n    }\r\n    if (!values.lastBillReading) {\r\n      errors.lastBillReading = \"Reading is required\"\r\n    }\r\n  }\r\n\r\n  return errors;\r\n}","import { useHistory } from \"react-router-dom\";\r\nimport \"./successModal.css\";\r\n\r\n\r\n\r\nexport const SuccessModal = ({setShowModal, setValues}) => {\r\n\r\n  const history = useHistory();\r\n  \r\n\r\n  function handleClose() {\r\n    setValues({\r\n      accountNumber: \"\",\r\n      meterSerialNumber: \"\",\r\n      fullName: \"\",\r\n      mobileNumber: \"+63\",\r\n      barangay: \"POB\",\r\n      address: \"Poblacion, Alcantara, Romblon\",\r\n      existing: false, \r\n      lastBillNumber: 0,\r\n      lastBillReading: 0,\r\n      lastBillPeriodTo: 0\r\n    });\r\n    setShowModal(false)\r\n  };\r\n\r\n  function handleViewAccounts() {\r\n    setShowModal(false)\r\n    history.push(\"/admin/accounts\");\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"success-modal\">\r\n      <div className=\"modal-dialog modal-dialog-centered\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Submission Successful</h5>\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn-close\" \r\n              aria-label=\"Close\"\r\n              onClick={handleClose}></button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <p>\r\n              Account has been successfully created! \r\n            </p>\r\n            <p>\r\n              Go to Accounts page to view the newly created account or continue and create another account.\r\n            </p>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn btn-outline-primary\"\r\n              onClick={handleViewAccounts}\r\n            >\r\n              View Accounts\r\n            </button>\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn btn-primary\" \r\n              onClick={handleClose}\r\n            >\r\n              Continue\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>      \r\n    </div>\r\n  )\r\n}","import { useState } from \"react\";\r\nimport \"./style.css\";\r\nimport { AccountNumberField } from \"../../../components/CreateAccountForm/AccountNumberField\";\r\nimport { AddressField } from \"../../../components/CreateAccountForm/AddressField\";\r\nimport { FullNameField } from \"../../../components/CreateAccountForm/FullNameField\";\r\nimport { MeterSerialNumberField } from \"../../../components/CreateAccountForm/MeterSerialNumberField\";\r\nimport { MobileNumberField } from \"../../../components/CreateAccountForm/MobileNumberField\";\r\nimport { BarangayField } from \"../../../components/CreateAccountForm/BarangayField\";\r\nimport { NewOrExistingField } from \"../../../components/CreateAccountForm/NewOrExistingField\";\r\nimport { LastBillDetailsFields } from \"../../../components/CreateAccountForm/LastBillDetailsFields\";\r\nimport { SubmitCreateAccountButton } from \"../../../components/CreateAccountForm/SubmitCreateAccountButton\";\r\nimport Loader from \"../../../components/Loader/Loader\";\r\nimport { SuccessModal } from \"../../../components/CreateAccountForm/SuccessModal\";\r\n\r\n\r\n\r\nexport const CreateAccount = () => {\r\n  \r\n  const [values, setValues] = useState({\r\n    barangay: \"POB\",\r\n    address: \"Poblacion, Alcantara, Romblon\",\r\n    mobileNumber: \"+63\",\r\n    existing: false, \r\n    lastBillNumber: 0, \r\n    lastBillReading: 0,\r\n    lastBillPeriodTo: 0\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  return (\r\n    <div className=\"container col-md-8\">\r\n      {\r\n        showModal \r\n        &&\r\n        <SuccessModal \r\n          setShowModal={setShowModal}\r\n          setValues={setValues}\r\n        />\r\n      }\r\n      <p className=\"display-5 text-center py-3\">\r\n        {loading ? \"Submitting Account Information\" : \"Account Registration\"}\r\n      </p>\r\n      {\r\n        loading ?\r\n        <div className=\"row\">\r\n          <Loader />\r\n          <p className=\"display-6 text-center\">\r\n            Please wait\r\n          </p>\r\n        </div>\r\n        :\r\n        <form className=\"row g-3 pb-4\">      \r\n          <NewOrExistingField \r\n            values={values}\r\n            setValues={setValues}\r\n          />\r\n          <AccountNumberField\r\n            values={values}\r\n            setValues={setValues}\r\n            errors={errors}\r\n          />\r\n          <MeterSerialNumberField \r\n            values={values}\r\n            setValues={setValues}\r\n            errors={errors}\r\n          />\r\n          <FullNameField \r\n            values={values}\r\n            setValues={setValues}\r\n            errors={errors}\r\n          />\r\n          <MobileNumberField \r\n            values={values}\r\n            setValues={setValues}\r\n            errors={errors}\r\n          />\r\n          <BarangayField \r\n            values={values}\r\n            setValues={setValues}\r\n          />\r\n          <AddressField\r\n            errors={errors}\r\n          />\r\n          {\r\n            values.existing \r\n            && \r\n            <LastBillDetailsFields \r\n              values={values} \r\n              setValues={setValues} \r\n              errors={errors} \r\n            />\r\n          }\r\n          <SubmitCreateAccountButton \r\n            values={values}\r\n            errors={errors}\r\n            setErrors={setErrors}\r\n            setLoading={setLoading}\r\n            setShowModal={setShowModal}\r\n          />\r\n        </form>        \r\n      }\r\n\r\n    </div>\r\n  )\r\n}","import { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport { AccountsListContextProvider } from \"../../../contexts/AccountsListContext\";\r\nimport { BillAccountProvider } from \"../../../contexts/BillAccountContext\";\r\nimport { Accounts } from \"../Accounts/Accounts\";\r\nimport { CreateAccount } from \"../CreateAccount/CreateAccount\";\r\n\r\n\r\n\r\nexport const AccountsPage = () => {\r\n\r\n  let {path} = useRouteMatch();\r\n\r\n  \r\n\r\n\r\n  return (\r\n    <AccountsListContextProvider>\r\n      <BillAccountProvider>\r\n        <Switch>\r\n          <Route exact path={path}>\r\n            <Accounts />\r\n          </Route>      \r\n          <Route path={`${path}/new`}>\r\n            <CreateAccount />\r\n          </Route>\r\n        </Switch>\r\n      </BillAccountProvider>\r\n    </AccountsListContextProvider>\r\n    \r\n  )\r\n}","\r\n\r\nexport const HomeCard = ({cardImg, cardTitle, cardText, buttonLabel, handleClick}) => {\r\n\r\n  const processedText = cardText.split(\".\");\r\n\r\n  return (\r\n    <div className=\"col-md-4\">\r\n      <div className=\"card h-100 p-2\">\r\n        <img \r\n          src={cardImg} \r\n          className=\"card-img-top\" \r\n          alt=\"...\"\r\n          style={{\r\n            objectFit: \"contain\",\r\n            height: \"150px\"\r\n          }}\r\n        />\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title pb-2\">\r\n            {cardTitle}\r\n          </h5>\r\n          <div className=\"card-text\">\r\n            {processedText.map((text, index) => <div key={index} className=\"pb-1\">{text}</div>)}\r\n          </div>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <button \r\n            type=\"button\" \r\n            className=\"btn btn-primary w-100 my-1\"\r\n            onClick={handleClick}\r\n          >\r\n            {buttonLabel}\r\n          </button>\r\n        </div>\r\n      </div>            \r\n    </div>\r\n\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/register.c0fea52c.png\";","export default __webpack_public_path__ + \"static/media/accounts.15c1b769.png\";","export default __webpack_public_path__ + \"static/media/statement.a5d35e3b.jpg\";","import \"./style.css\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { HomeCard } from \"../../../components/AdminHome/HomeCard\";\r\nimport register from \"../../../images/register.png\";\r\nimport accounts from \"../../../images/accounts.png\";\r\nimport statement from \"../../../images/statement.jpg\";\r\nimport seal from \"../../../images/alcantara-seal.png\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Loader from \"../../../components/Loader/Loader\";\r\n\r\n\r\n\r\nexport const Home = () => {\r\n  \r\n  const [showLoader, setShowLoader] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let timeout = setTimeout(() => {\r\n      setShowLoader(false)\r\n    }, 1400);\r\n\r\n\r\n    return () => clearTimeout(timeout)\r\n  }, [])\r\n\r\n\r\n\r\n  const { path } = useRouteMatch();\r\n  const history = useHistory();\r\n  \r\n  const homeCards = [\r\n    {\r\n      id: \"addAccountId\",\r\n      cardImg: register,\r\n      cardTitle: \"Create an account\",\r\n      cardText: \"Accounts from the old system can be registered in this system. New accounts can also be registered easily. Click the button below to learn more.\",\r\n      buttonLabel: \"Go to Registration Page\",\r\n      handleClick: () => history.push(path + \"/accounts/new\")\r\n    },\r\n    {\r\n      id: \"viewAccountsId\",\r\n      cardImg: accounts,\r\n      cardTitle: \"View registered accounts\",\r\n      cardText: \"All accounts can be viewed in a table format, which also comes with sorting features. The sorting can be toggled by clicking a column header. Click the button below to see.\",\r\n      buttonLabel: \"Go to Accounts Page\",\r\n      handleClick: () => history.push(path + \"/accounts\")\r\n    },\r\n    {\r\n      id: \"issueStatementsId\",\r\n      cardImg: statement,\r\n      cardTitle: \"Issue a new statement\",\r\n      cardText: \"The system will only be needing the current meter reading. All the other values will be auto-computed and account holders will be notified through SMS.\",\r\n      buttonLabel: \"Go to Statements Page\",\r\n      handleClick: () => history.push(path + \"/statements\")\r\n    }\r\n  ]\r\n\r\n  const width = window.innerWidth;\r\n\r\n  return (\r\n      <div className=\"container\">\r\n        {\r\n          showLoader ?\r\n          <Loader />\r\n          :\r\n          <div>\r\n            <div \r\n              className=\"row d-flex w-100 justify-content-around align-items-center my-3\"\r\n              style={{\r\n                height: `${(width < 576) ? \"100vh\" : \"75vh\"}`\r\n              }}\r\n            >\r\n              <div className=\"text-center col-md-4\">\r\n                <img \r\n                  src={seal} \r\n                  alt=\"Alcantara, Romblon - Municipal Seal\" \r\n                  className=\"img-thumbnail border-0\"\r\n                  style={{\r\n                    height: \"15rem\",\r\n                    width: \"15rem\"\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-8\">\r\n                <p className=\"h2\">\r\n                  Municipality of Alcantara\r\n                </p>\r\n                <p className=\"display-6\">\r\n                  Integrated Water Supply System\r\n                </p>\r\n                <p className=\"text-justify\">\r\n                  Our goal is to improve distribution of monthly water bills, while also adding convenience by allowing the account holders to view their bills and account details online.<br/><br/>The monthly distribution of bills will be covered by our system's integrated SMS notification feature. Account holders can view their accounts by logging in to our customer's page.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"row card-group my-4 py-4\">\r\n              <p className=\"h2 mb-3 text-center\">\r\n                Main Features\r\n              </p>\r\n              {homeCards.map(item => (\r\n                <HomeCard \r\n                  key={item.id}\r\n                  cardImg={item.cardImg}\r\n                  cardTitle={item.cardTitle}\r\n                  cardText={item.cardText}\r\n                  buttonLabel={item.buttonLabel}\r\n                  handleClick={item.handleClick}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n  )\r\n}","import { createContext, useContext, useState } from \"react\";\r\n\r\n\r\nexport const AccountsForBillingContext = createContext(null);\r\n\r\n\r\nexport const AccountsForBillingContextProvider = ({children}) => {\r\n\r\n  const [accounts, setAccounts] = useState([]);\r\n\r\n\r\n  return (\r\n    <AccountsForBillingContext.Provider value={{accounts, setAccounts}}>\r\n      {children}\r\n    </AccountsForBillingContext.Provider>\r\n  )\r\n}\r\n\r\n\r\nexport const useAccountsForBillingContext = () => {\r\n  return useContext(AccountsForBillingContext);\r\n}","const { createContext, useContext } = require(\"react\");\r\n\r\n\r\n\r\nexport const BillingDateContext = createContext();\r\n\r\n\r\nexport const BillingDateContextProvider = ({children}) => {\r\n\r\n  const billingDates = [\r\n    {\r\n      label: \"December 28 - January 28\",\r\n      short: \"12/28/20 - 01/28/21\",\r\n      value: {\r\n        periodFrom: 1609084800000,\r\n        periodTo: 1611763200000\r\n      }\r\n    },\r\n    {\r\n      label: \"January 28 - February 28\",\r\n      short: \"01/28/21 - 02/28/21\",\r\n      value: {\r\n        periodFrom: 1611763200000,\r\n        periodTo: 1614441600000\r\n      }\r\n    },\r\n    {\r\n      label: \"February 28 - March 28\",\r\n      short: \"02/28/21 - 03/28/21\",\r\n      value: {\r\n        periodFrom: 1614441600000,\r\n        periodTo: 1616860800000\r\n      }\r\n    },\r\n    {\r\n      label: \"March 28 - April 28\",\r\n      short: \"03/28/21 - 04/28/21\",\r\n      value: {\r\n        periodFrom: 1616860800000,\r\n        periodTo: 1619539200000\r\n      }\r\n    },\r\n    {\r\n      label: \"April 28 - May 28\",\r\n      short: \"04/28/21 - 05/28/21\",\r\n      value: {\r\n        periodFrom: 1619539200000,\r\n        periodTo: 1622131200000\r\n      }\r\n    },\r\n    {\r\n      label: \"May 28 - June 28\",\r\n      short: \"05/28/21 - 06/28/21\",\r\n      value: {\r\n        periodFrom: 1622131200000,\r\n        periodTo: 1624809600000\r\n      }\r\n    },\r\n    {\r\n      label: \"June 28 - July 28\",\r\n      short: \"06/28/21 - 07/28/21\",\r\n      value: {\r\n        periodFrom: 1624809600000,\r\n        periodTo: 1627401600000\r\n      }\r\n    },\r\n    {\r\n      label: \"July 28 - August 28\",\r\n      short: \"07/28/21 - 08/28/21\",\r\n      value: {\r\n        periodFrom: 1627401600000,\r\n        periodTo: 1630080000000\r\n      }\r\n    },\r\n    {\r\n      label: \"August 28 - September 28\",\r\n      short: \"08/28/21 - 09/28/21\",\r\n      value: {\r\n        periodFrom: 1630080000000,\r\n        periodTo: 1632758400000\r\n      }\r\n    },\r\n    {\r\n      label: \"September 28 - October 28\",\r\n      short: \"09/28/21 - 10/28/21\",\r\n      value: {\r\n        periodFrom: 1632758400000,\r\n        periodTo: 1635350400000\r\n      }\r\n    },\r\n    {\r\n      label: \"October 28 - November 28\",\r\n      short: \"10/28/21 - 11/28/21\",\r\n      value: {\r\n        periodFrom: 1635350400000,\r\n        periodTo: 1638028800000\r\n      }\r\n    },\r\n    {\r\n      label: \"November 28 - December 28\",\r\n      short: \"11/28/21 - 12/28/21\",\r\n      value: {\r\n        periodFrom: 1638028800000,\r\n        periodTo: 1640620800000\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <BillingDateContext.Provider value={billingDates}>\r\n      {children}\r\n    </BillingDateContext.Provider>\r\n  )\r\n}\r\n\r\n\r\nexport const useBillingDate = () => {\r\n  return useContext(BillingDateContext);\r\n}","import { useAccountsForBillingContext } from \"../../../contexts/AccountsForBillingContext\";\r\nimport { validateStatement } from \"./NewBillValidationRules\";\r\n\r\n\r\n\r\n\r\nexport const SubmitNewBillButton = ({\r\n  payload, \r\n  account, \r\n  isLoading, \r\n  setIsLoading, \r\n  errors, \r\n  setErrors, \r\n  setShowModal}) => {\r\n  const ISSUE_BILL_URI = \"https://sp1-blue-sparrow.herokuapp.com/api/v1/bill-management/bills/issue\"\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n\r\n  const { accounts, setAccounts } = useAccountsForBillingContext();\r\n\r\n  function onMouseDown() {\r\n    setErrors(validateStatement(payload, account)) \r\n  }\r\n\r\n  function onMouseUp() {\r\n    setIsLoading(true)\r\n    if (Object.keys(errors).length > 0) {\r\n      setIsLoading(false)\r\n      return false\r\n    } else {\r\n      fetch(ISSUE_BILL_URI, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          \"x-auth-token\": TOKEN\r\n        },\r\n        body: JSON.stringify(payload)\r\n      })\r\n      .then(res => res.text())\r\n      .then(data => {\r\n        if (data === \"FIRST\" || data === \"SUCCEEDING\") {\r\n          setIsLoading(false)\r\n          setAccounts(accounts.filter(item => (item.accountNumber !== payload.accountNumber)))\r\n          alert(\"Statement was successfully issued. Click Ok to continue.\");\r\n          setShowModal(false);\r\n        }\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n        alert(\"Oops.. Something went wrong...\")\r\n        setIsLoading(false)\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button \r\n      type=\"button\" \r\n      className=\"btn btn-success col-md-3 col-8\"\r\n      onMouseDown={onMouseDown}\r\n      onMouseUp={onMouseUp}\r\n      disabled={isLoading}\r\n    >\r\n      {\r\n        isLoading ?\r\n        <span>\r\n          <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </span>\r\n        :\r\n        <span>Submit New Statement</span>\r\n      }\r\n    </button>\r\n  )\r\n}","\r\n\r\n\r\nexport const validateStatement = (payload, account) => {\r\n  const errors = {};\r\n\r\n  if (!payload.accountNumber) {\r\n    errors.accountNumber = \"Account number is required for issuing.\"\r\n  }\r\n\r\n  if (!payload.periodFrom) {\r\n    errors.periodFrom = \"You must select the period covered for this statement.\"\r\n  }\r\n  if (typeof payload.periodFrom !== \"number\") {\r\n    errors.periodFrom = \"A valid statement period must be selected.\"\r\n  }\r\n\r\n  if (!payload.periodTo) {\r\n    errors.periodTo = \"You must select the period covered for this statement.\"\r\n  }\r\n  if (typeof payload.periodTo !== \"number\") {\r\n    errors.periodTo = \"A valid statement period must be selected.\"\r\n  }\r\n\r\n  if (!payload.readingPresent) {\r\n    errors.readingPresent = \"Present Meter Reading is required. Please try again.\"\r\n  }\r\n\r\n  if (payload.readingPresent < account.lastBillReading) {\r\n    errors.readingPresent = \"Present Meter Reading should not be less than previous reading.\"\r\n  }\r\n\r\n\r\n\r\n  return errors;\r\n}","import { useState } from \"react\";\r\nimport { useAccountsForBillingContext } from \"../../../contexts/AccountsForBillingContext\";\r\nimport { useBillingDate } from \"../../../contexts/BillingDateContext\";\r\nimport { useConsumptionAmount } from \"../../../hooks/useConsumptionAmount\";\r\nimport \"./style.css\";\r\nimport { SubmitNewBillButton } from \"./SubmitNewBillButton\";\r\n\r\n\r\n\r\nexport const NewBillModal = ({payload, setPayload, setShowModal}) => {\r\n\r\n  const { accounts } = useAccountsForBillingContext();\r\n  const foundAccount = accounts.find(item => item.accountNumber === payload.accountNumber);\r\n  const months = useBillingDate();\r\n  const billingDate = months.find(item => item.value.periodTo === payload.periodTo);\r\n  const charges = useConsumptionAmount({\r\n    consumption: (payload.readingPresent - (foundAccount?.lastBillReading || 0))\r\n  });\r\n  const [checkOtherCharge, setCheckOtherCharge] = useState(false);\r\n\r\n  function handleClose() {\r\n    setPayload({\r\n      ...payload,\r\n      accountNumber: \"\",\r\n      readingPresent: 0,\r\n      chargeOthers: 0\r\n    })\r\n    setShowModal(false);\r\n  };\r\n\r\n  function handlePresentReading(e) {\r\n    if (e.target.value.length <= 4 && e.target.value >= 0) {\r\n      setPayload({\r\n        ...payload,\r\n        readingPresent: parseInt(e.target.value)\r\n      })\r\n    } else e.target.value.trim()\r\n  };\r\n\r\n  function handleChargeOthers(e) {\r\n    if (e.target.value.length <= 5 && e.target.value >= 0) {\r\n      setPayload({\r\n        ...payload,\r\n        chargeOthers: parseInt(e.target.value)\r\n      })\r\n    } else e.target.value.trim()\r\n  };\r\n\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n\r\n \r\n  const width = window.innerWidth;\r\n\r\n\r\n  return (\r\n    <div className=\"new-bill-modal\">\r\n      <div className=\"modal-dialog modal-xl modal-fullscreen-md-down\">\r\n        <div className=\"modal-content\">\r\n\r\n          <div className=\"modal-header d-flex flex-column\">\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn-close\"\r\n              onClick={handleClose} \r\n              aria-label=\"Close\"\r\n              disabled={isLoading}>\r\n            </button>\r\n            <div className=\"row align-items-center justify-content-around w-100\">\r\n              <div className=\"col-md-4\">\r\n                <p className=\"m-0 p-0 text-center \">Account No.</p>\r\n                <p className=\"m-0 p-0 text-center font-weight-bold font-l\">\r\n                  {foundAccount?.accountNumber || \"-\"}\r\n                </p>\r\n              </div>\r\n              <p className=\"font-3xl m-0 p-0 text-center col-md-4\">\r\n                Statement of Account\r\n              </p>\r\n              <div className=\"col-md-4\">\r\n                <p className=\"m-0 p-0 text-center \">Period Covered</p>\r\n                <p className=\"m-0 p-0 text-center font-weight-bold font-l\">\r\n                  {billingDate.short || \"-\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"modal-body\">\r\n            <div className=\"container\">\r\n\r\n              <div className=\"row bg-paper py-2 my-1\">\r\n                <div className=\"col-md-4\">\r\n                  <p className=\"m-0 p-0 text-center mb-1\">Name</p>\r\n                  <p className=\"m-0 p-0 text-center font-l\">\r\n                    {foundAccount?.fullName || \"-\"}\r\n                  </p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p className=\"m-0 p-0 text-center mb-1\">Address</p>\r\n                  <p className=\"m-0 p-0 text-center font-l\">\r\n                    {foundAccount?.address || \"-\"}\r\n                  </p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p className=\"m-0 p-0 text-center mb-1\">Meter Serial No.</p>\r\n                  <p className=\"m-0 p-0 text-center font-l\">\r\n                    {foundAccount?.meterSerialNumber || \"-\"}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row bg-paper py-2 my-1 meter-reading-section\">\r\n                <div className=\"col-12\">\r\n                  <p className=\"m-0 p-0 text-center font-xl font-weight-bold\">Meter Reading</p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p className=\"m-0 p-0 text-center \">Previous</p>\r\n                  <div className=\"d-flex flex-column justify-content-center \">\r\n                    <p className=\"m-0 p-0 text-center font-l\">\r\n                      {`${foundAccount?.lastBillReading || \"0\"} Cu. M`}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p className=\"m-0 p-0 text-center font-weight-bold\">Present</p>\r\n                  <div className=\"row align-items-center justify-content-center \">\r\n                    <div className=\"col-3 mr-1\">\r\n                      <div className=\"row align-items-center\">\r\n                        <input \r\n                          type=\"number\" \r\n                          id=\"readingPresent\" \r\n                          className=\"form-control form-control-sm text-right\" \r\n                          aria-describedby=\"readingPresent\"\r\n                          value={payload.readingPresent || \"\"}\r\n                          onChange={handlePresentReading}\r\n                          disabled={isLoading}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <p className=\"m-0 p-0 font-weight-bold font-l col-3 ml-1\">\r\n                      Cu. M\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p className=\"m-0 p-0 text-center \">Cu. Meters Used</p>\r\n                  <div className=\"d-flex flex-column justify-content-center \">\r\n                    <p className=\"m-0 p-0 text-center font-l\">\r\n                      {`${(payload.readingPresent - foundAccount?.lastBillReading) > 0 ? (payload.readingPresent - foundAccount?.lastBillReading) : \"0\"} Cu. M`}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row bg-paper pt-1 mt-1 pb-0 mb-0\">\r\n                <div className=\"col-12\">\r\n                  <p className=\"m-0 p-0 my-1 text-center font-xl font-weight-bold\">Consumption</p>\r\n                </div>\r\n                <div className=\"col-md-4 col-5\">\r\n                  <p className=\"m-0 p-0 text-center mb-1\">Charges</p>\r\n                  <div className=\"col-md-10 ml-auto font-l\">\r\n                    <p className=\"m-0 p-0 text-justify\">\r\n                      {`${(width < 768) ? \"0-10m³\" : \"0 to 10 Cu. Meters (m³)\"}`}\r\n                    </p>\r\n                    <p className=\"m-0 p-0 text-justify\">\r\n                      {`${(width < 768) ? \"Above 10m³\" : \"In Excess of 10 Cu. Meters (m³)\"}`}\r\n                    </p>\r\n\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4 col-7\">\r\n                  <p className=\"m-0 p-0 text-center mb-1\">Rate</p>\r\n                  <div className=\"row font-l\">\r\n                    <div className=\"col-12 d-flex justify-content-center\">\r\n                      <p className=\"m-0 p-0 text-right pr-3 col-6\">\r\n                        {`${(width < 768) ? \"P\" : \"Php\"}`}\r\n                      </p>\r\n                      <p className=\"m-0 p-0 text-left col-6\">\r\n                        50.00\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"col-12 d-flex justify-content-center\">\r\n                      <p className=\"m-0 p-0 text-right pr-3 col-6\">\r\n                        {`${(width < 768) ? \"P\" : \"Php\"}`}\r\n                      </p>\r\n                      <p className=\"m-0 p-0 text-left col-6\">\r\n                        {`${(width < 768) ? \"11.00/m³\" : \"11.00 / Cu. M\"}`}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p className=\"m-0 p-0 text-center mb-1\">Amount</p>\r\n                  <div className=\"row font-l\">\r\n                    <div className=\"col-10 d-flex justify-content-center\">\r\n                      <p className=\"m-0 p-0 text-right pr-4 font-weight-bold col-5\">\r\n                        Php\r\n                      </p>\r\n                      <p className=\"m-0 p-0 text-right pl-2 font-weight-bold col-3\">\r\n                        50.00\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"col-10 d-flex justify-content-center\">\r\n                      <p className=\"m-0 p-0 text-right pr-4 font-weight-bold col-5\">\r\n                        Php\r\n                      </p>\r\n                      <p className=\"m-0 p-0 text-right pl-2 font-weight-bold col-3\">\r\n                        {`${new Intl.NumberFormat().format(charges.chargeAboveTen)}.00`}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"row bg-paper other-charge-class\">\r\n                <div className=\"col-md-4 font-l\">\r\n                  <div className=\"col-md-10 form-check m-0 p-0 ml-auto\">\r\n                    <input \r\n                      className=\"form-check-input\" \r\n                      type=\"checkbox\" \r\n                      id=\"otherChargeCheck\" \r\n                      value={checkOtherCharge}\r\n                      defaultChecked={checkOtherCharge}\r\n                      onChange={(e) => setCheckOtherCharge(!checkOtherCharge)}\r\n                      disabled={isLoading}\r\n                    />\r\n                    <label className=\"form-check-label\" htmlFor=\"otherChargeCheck\">\r\n                      Other Charges\r\n                    </label>  \r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4 ml-auto\">\r\n                  <div className=\"d-flex flex-column justify-content-center \">\r\n                    <p className=\"m-0 p-0 text-center\">\r\n                      -\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  {\r\n                    checkOtherCharge ?\r\n                    <div className=\"row align-items-center justify-content-center\">\r\n                      <p className=\"m-0 p-0 text-right pr-3 font-weight-bold col-2 font-l\">\r\n                        Php\r\n                      </p>\r\n                      <div className=\"col-3\">\r\n                        <div className=\"row align-items-center\">\r\n                          <input \r\n                            type=\"number\" \r\n                            id=\"chargeOthers\" \r\n                            className=\"form-control form-control-sm text-right\" \r\n                            aria-describedby=\"passwordHelpInline\"\r\n                            value={payload.chargeOthers || 0} \r\n                            onChange={handleChargeOthers}\r\n                            disabled={isLoading}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    :\r\n                    <div className=\"row\">\r\n                      <div className=\"col-10 d-flex justify-content-center font-l\">\r\n                        <p className=\"m-0 p-0 text-right pr-4 col-5\">\r\n                          Php\r\n                        </p>\r\n                        <p className=\"m-0 p-0 text-right pl-2 col-3\">\r\n                          0.00\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  }\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"row\">\r\n                <p className=\"font-xxl m-0 p-0 col-md-4 text-center ml-auto font-weight-bold\">\r\n                  Total Amount Due\r\n                </p>\r\n                <p className=\"m-0 p-0 pl-2 font-weight-bold col-md-4 text-center font-xxl\">\r\n                  {`Php ${new Intl.NumberFormat().format(charges.total)}.00`}\r\n                </p>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"modal-footer\">\r\n            <p className=\"col-6 text-center text-danger font-weight-bold\">\r\n              <em>{errors.readingPresent && `*${errors.readingPresent}`}</em>\r\n            </p>\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn btn-outline-secondary col-md-2 col-4\" \r\n              onClick={handleClose}\r\n              disabled={isLoading}\r\n            >\r\n              Close\r\n            </button>  \r\n            <SubmitNewBillButton \r\n              payload={payload}\r\n              account={foundAccount}\r\n              isLoading={isLoading}\r\n              setIsLoading={setIsLoading}\r\n              errors={errors}\r\n              setErrors={setErrors}\r\n              setShowModal={setShowModal}\r\n            />\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useBillingDate } from \"../../contexts/BillingDateContext\";\r\n\r\n\r\n\r\n\r\n\r\nexport const PeriodSelectField = ({payload, setPayload, monthIndex}) => {\r\n  \r\n\r\n  const months = useBillingDate();\r\n\r\n  function handleChange(e) {\r\n    setPayload({\r\n      ...payload,\r\n      periodFrom: months[e.target.value].value.periodFrom,\r\n      periodTo: months[e.target.value].value.periodTo\r\n    })\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"row py-4\">\r\n      <div className=\"col-md-5 pt-1\">\r\n        <p className=\"font-3xl text-right p-0 m-0\">Select Statement Period:</p>\r\n      </div>\r\n      <div className=\"col-md-4 mr-auto\">\r\n        <select \r\n          className=\"form-select form-select-lg mb-3 \" \r\n          aria-label=\"period select\"\r\n          defaultChecked={true}\r\n          defaultValue={monthIndex}\r\n          onChange={handleChange}\r\n        >\r\n          {months && months.map((item, index) => (\r\n            (index > (monthIndex - 2) && index < (monthIndex + 3)) &&\r\n            <option\r\n              key={index}\r\n              value={index}\r\n            >\r\n              {item.label}\r\n            </option>\r\n          ))} \r\n        </select>\r\n      </div>\r\n    </div>    \r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\nimport { DataTable } from \"../../../components/DataTable/DataTable\";\r\nimport Loader from \"../../../components/Loader/Loader\";\r\nimport { NewBillModal } from \"../../../components/StatementComponents/NewBillModal/NewBillModal\";\r\nimport { PeriodSelectField } from \"../../../components/StatementComponents/PeriodSelectField\";\r\nimport { useAccountsForBillingContext } from \"../../../contexts/AccountsForBillingContext\";\r\nimport { useBillingDate } from \"../../../contexts/BillingDateContext\";\r\nimport { useFetch } from \"../../../hooks/useFetch\";\r\nimport { useTableFilter } from \"../../../hooks/useTableFilter\";\r\n\r\n\r\n\r\nconst d = new Date();  \r\n\r\nexport const IssueStatements = () => {\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n  const API = `/account-management/accounts`;\r\n  const { data } = useFetch({\r\n    endpoint: API,\r\n    token: TOKEN\r\n  });\r\n\r\n  const {accounts, setAccounts } = useAccountsForBillingContext();\r\n\r\n\r\n  const monthIndex = d.getMonth() < 1 ? 0 : (d.getMonth() - 1);\r\n  const months = useBillingDate();\r\n  \r\n  const [payload, setPayload] = useState({\r\n     accountNumber: \"\",\r\n     periodFrom: months[monthIndex].value.periodFrom,\r\n     periodTo: months[monthIndex].value.periodTo,\r\n     readingPresent: 0,\r\n     chargeOthers: 0\r\n  })\r\n  \r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setAccounts(data)\r\n    }\r\n  }, [data, setAccounts])\r\n\r\n  \r\n  \r\n  const { filteredArr } = useTableFilter({\r\n    data: accounts || [],\r\n    filter: payload.periodTo\r\n  });\r\n\r\n\r\n  function issueStatementCallback(account) {\r\n    setPayload({\r\n      ...payload,\r\n      accountNumber: account.accountNumber\r\n    });\r\n    setShowModal(true);\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      id: \"accountNumber\",\r\n      title: \"Account No.\",\r\n      width: \"25\",\r\n      className: \"my-0 py-0\"\r\n    },\r\n    {\r\n      id: \"fullName\",\r\n      title: \"Name\",\r\n      width: \"30\",\r\n      className: \"my-0 py-0\"\r\n    },\r\n    {\r\n      id: \"address\",\r\n      title: \"Barangay\",\r\n      width: \"25\",\r\n      className: \"my-0 py-0\"\r\n    },\r\n    {\r\n      id: \"actions\",\r\n      title: \"\",\r\n      width: \"20\",\r\n      className: \"\"\r\n    },\r\n  ];\r\n\r\n  const rows = [\r\n    {\r\n      id: \"accountNumber\",\r\n      type: \"string\",\r\n      className: \"\",\r\n    },\r\n    {\r\n      id: \"fullName\",\r\n      type: \"string\",\r\n      className: \"\",\r\n    },\r\n    {\r\n      id: \"address\",\r\n      type: \"barangay\",\r\n      className: \"\",\r\n    },\r\n    {\r\n      id: \"actions\",\r\n      type: \"action\",\r\n      className: \"text-center\",\r\n      actions: [\r\n        {\r\n          label: `${window.innerWidth < 768 ? \"Issue\" : \"Issue Statement\"}`,\r\n          className: \"btn-primary px-2 mx-1\",\r\n          callback: issueStatementCallback\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  \r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {\r\n        showModal && \r\n        <NewBillModal \r\n          payload={payload}\r\n          setPayload={setPayload}\r\n          setShowModal={setShowModal}\r\n        /> \r\n      }\r\n      <p className=\"display-5 text-center py-3\">\r\n        Issue Statements\r\n      </p>\r\n\r\n      <PeriodSelectField \r\n        payload={payload} \r\n        setPayload={setPayload}\r\n        monthIndex={monthIndex} \r\n      />\r\n\r\n      {\r\n        !data ? \r\n        <Loader />\r\n        :\r\n        <DataTable \r\n          columns={columns}\r\n          rows={rows}\r\n          data={filteredArr}\r\n        />\r\n      }\r\n      \r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\n\r\nexport const useTableFilter = ({data, filter}) => {\r\n  const [state, setState] = useState({\r\n    filteredArr: [...data]\r\n  });\r\n\r\n\r\n  useEffect(() => {\r\n    let filtered = data.filter(item => (item.lastBillPeriodTo < filter));\r\n\r\n    setState({\r\n      filteredArr: filtered\r\n    })\r\n  }, [data, filter])\r\n\r\n\r\n  return state;\r\n} ","import { useEffect, useRef, useState } from \"react\";\r\n\r\nconst days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\nconst months = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\"\r\n];\r\n\r\nexport const useDateStringToday = () => {\r\n  \r\n  const [dateStringToday, setDateStringToday] = useState(null);\r\n  const dateInstanceRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    dateInstanceRef.current = new Date();\r\n  })\r\n\r\n  useEffect(() => {\r\n    let day = days[dateInstanceRef.current.getDay()];\r\n    let month = months[dateInstanceRef.current.getMonth()];\r\n    let date = dateInstanceRef.current.getDate();\r\n    let year = dateInstanceRef.current.getFullYear();\r\n\r\n    setDateStringToday(`${day}, ${month} ${date}, ${year}`)\r\n  }, [])\r\n\r\n  return dateStringToday;\r\n}","\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { useDateStringToday } from \"../../../hooks/useDateStringToday\";\r\n\r\n\r\n\r\nexport const Statements = () => {\r\n\r\n  const history = useHistory();\r\n  const { path } = useRouteMatch();\r\n  \r\n  const dateStringToday = useDateStringToday();\r\n \r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 mx-auto\">\r\n          <p className=\"display-5 text-center py-3 pb-5\">\r\n            Statements\r\n          </p>\r\n          <div className=\"row g-4\">\r\n            <div style={{ fontSize: \"1.5rem\"}} className=\"my-3 col-md-10 mr-auto\" >\r\n              <span>Today is </span>\r\n              <span> {dateStringToday && dateStringToday} </span>\r\n            </div>\r\n            <div className=\"my-2\">\r\n             <span className=\"font-xl\">Important Reminders:</span>\r\n              <ul className=\"mt-3\">\r\n                <li>After submitting the new statement, an SMS message will be sent to the mobile number of the account holder to inform them of their new bill.</li>\r\n                <li>Do not forget to verify all the details before issuing a new statement.</li>\r\n                <li>\r\n                  Please note that only the unbilled accounts for the selected statement period will be shown in the list.\r\n                </li>\r\n                <li>\r\n                  The available options for the statement period depends on current date.\r\n                </li>\r\n                <li>\r\n                  Statements cannot be issued for months that are past the available statement period options.\r\n                </li>\r\n              \r\n                <li>Begin by pressing the button below.</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div className=\"col py-2 text-center\">\r\n            <button \r\n                className=\"btn btn-lg btn-outline-success col-md-6\" \r\n                type=\"button\"\r\n                onClick={() => {history.push(`${path}/issue`)}}\r\n              >\r\n                Begin Issuing Statements\r\n              </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      \r\n    </div>\r\n  )\r\n}","import { Route, Switch, useRouteMatch } from \"react-router-dom\"\r\nimport { AccountsForBillingContextProvider } from \"../../../contexts/AccountsForBillingContext\";\r\nimport { BillingDateContextProvider } from \"../../../contexts/BillingDateContext\";\r\nimport { IssueStatements } from \"../IssueStatements/IssueStatements\";\r\nimport { Statements } from \"../Statements/Statements\";\r\n\r\n\r\n\r\nexport const StatementsPage = () => {\r\n\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <AccountsForBillingContextProvider>\r\n      <BillingDateContextProvider>\r\n        <Switch>\r\n          <Route exact path={path}>\r\n            <Statements />\r\n          </Route>\r\n          <Route path={`${path}/issue`}>\r\n            <IssueStatements />\r\n          </Route>\r\n        </Switch>\r\n      </BillingDateContextProvider>\r\n    </AccountsForBillingContextProvider>\r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport { Navbar } from \"../../components/Navbar/Navbar\";\r\nimport { PopupNotif } from \"../../components/PopupNotif/PopupNotif\";\r\nimport { BillProvider } from \"../../contexts/BillContext\";\r\nimport { CustomerDataProvider } from \"../../contexts/CustomerDataContext\";\r\nimport { BillsPage } from \"../BillsPage/BillsPage\";\r\nimport { CustomerPage } from \"../Customer/CustomerPage\";\r\nimport { TestPage } from \"../Test/TestPage\";\r\nimport { AccountsPage } from \"./AccountsPage/AccountsPage\";\r\nimport { Home } from \"./Home/Home\";\r\nimport { StatementsPage } from \"./StatementsPage/StatementsPage\";\r\n\r\n\r\nexport const Main = () => {\r\n\r\n  const history = useHistory();\r\n  let role = localStorage.getItem(\"role\");\r\n  let [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (role === \"admin\") {\r\n      setIsAdmin(true)\r\n    } else setIsAdmin(false);\r\n  }, [role])\r\n\r\n  let [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const confirmModalProps = {\r\n    title: \"Sign Out Confirmation\",\r\n    hide: () => {setShowConfirmModal(false)},\r\n    loading: false,\r\n    message: \"Are you sure you want to sign out?\",\r\n    confirmAction: () => {\r\n      history.push(\"/login\");\r\n      localStorage.clear();\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"h-100 pt-5 my-3\"\r\n    >\r\n      { showConfirmModal && <PopupNotif {...confirmModalProps} />}\r\n      <Navbar signOut={setShowConfirmModal} />\r\n      {\r\n        (isAdmin) ?\r\n        (\r\n          <Switch>\r\n            <Route exact path=\"/admin\">\r\n              <Home />\r\n            </Route>\r\n            <Route path=\"/admin/accounts\">\r\n              <AccountsPage />  \r\n            </Route>\r\n            <Route path=\"/admin/statements\">\r\n              <StatementsPage />\r\n            </Route>\r\n            \r\n            <Route path=\"/admin/reports\">\r\n              <TestPage />\r\n            </Route>\r\n\r\n          </Switch>\r\n        )\r\n        :\r\n        (\r\n          <CustomerDataProvider>\r\n            <BillProvider>\r\n              <Switch>\r\n                <Route exact path=\"/customer\">\r\n                  <CustomerPage />\r\n                </Route>\r\n                <Route path=\"/customer/bills\">\r\n                  <BillsPage />\r\n                </Route>\r\n              </Switch>\r\n            </BillProvider>\r\n          </CustomerDataProvider>\r\n        )\r\n      }\r\n    </div>\r\n  )\r\n}","import { useEffect } from \"react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\n\r\n\r\n\r\nexport const RoleFilter = ({children, ...rest}) => {\r\n\r\n  let history = useHistory()\r\n\r\n  let role = localStorage.getItem(\"role\");\r\n\r\n  console.log(role);\r\n\r\n  useEffect(() => {\r\n    switch (role) {\r\n      case \"admin\":\r\n        history.push(\"/admin\");\r\n        break;\r\n      case \"customer\":\r\n        history.push(\"/customer\");\r\n        break;\r\n      \r\n      default:\r\n        history.push(\"/login\")\r\n        break;\r\n    }\r\n  }, [role, history])\r\n\r\n  return (\r\n    <Switch>\r\n      <Route {...rest} path=\"/admin\" render={(props) => children} />\r\n      <Route {...rest} path=\"/customer\" render={(props) => children} />\r\n    </Switch>\r\n  )\r\n}","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport PrivateRoute from \"./pages/PrivateRoute/PrivateRoute\";\nimport { SignIn } from \"./pages/SignIn/SignIn\";\nimport { Main } from \"./pages/main/Main\";\nimport { RoleFilter } from \"./components/RoleFilter/RoleFilter\"\nimport { UserProvider } from \"./contexts/UserContext\";\n\n\nfunction App() {\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <UserProvider>\n        <Switch>\n          <Route path=\"/login\" render={() => <SignIn/> } />\n          <PrivateRoute path=\"/\">\n            <RoleFilter>\n              <Main />\n            </RoleFilter>\n          </PrivateRoute>\n        </Switch>\n      </UserProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}